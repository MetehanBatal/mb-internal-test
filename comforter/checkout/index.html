<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Secure Checkout | Miracle Made</title>
	<meta content="Checkout" property="og:title" />
	<meta content="Checkout" property="twitter:title" />
	<meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0" name="viewport" />
	<link href="/comforter/checkout/images-new-branding/favicon.png" rel="shortcut icon" type="image/x-icon" />
	<link href="/comforter/checkout/images-new-branding/webclip.png" rel="apple-touch-icon" />
	<meta content="../toolkit/scripts/custom_translation.json" name="checkout-translations-url">	
	<style>
		.checkout-note strong,.express-checkout_text,.uppercase{text-transform:uppercase}input[type=checkbox]:after,input[type=radio]:after{position:absolute;top:0;left:0;content:"";height:100%}.trusted-customer-mobile{display:none;margin-top:4rem}.trusted-customer-mobile .flex>img{min-width:5.4rem;height:5.4rem;object-fit:cover;border-radius:50%}@media screen and (max-width:991px){.trusted-customer-mobile{display:block}}.discount-box form,.submitting{display:flex}#userwayAccessibilityIcon{background:0 0!important;width:24px;height:24px;min-width:24px;min-height:24px;top:0!important;left:0!important}body .uwy.userway_p3 .userway_buttons_wrapper{top:15px!important;left:13px!important;-ms-flex-pack:end;justify-content:end;position:fixed;bottom:auto!important;transform:translate(0)!important}.termly-styles-termly-banner-e1ed59{width:100%!important;margin:0!important;left:0;right:0!important;bottom:0!important}.mobile,.mobile-hidden{display:none}.shipping-options{margin-block:2.5rem 3rem}.shipping-options label{position:relative;width:100%;display:flex;align-items:center;justify-content:flex-start;gap:1rem;padding:1.4rem;cursor:pointer}.shipping-options label:first-child{border-bottom:.1rem solid #000}.shipping-options label div{display:flex;align-items:center;justify-content:space-between;width:100%}.shipping-options form{border:.1rem solid #000;border-radius:.4rem}.shipping-options input{width:1.6rem;height:1.6rem;cursor:pointer}.shipping-options span{font-size:1.4rem;font-family:MediumFont}.summary-content .flex>img{border-radius:50%;height:5.4rem;min-width:5.4rem;object-fit:cover}.remove-text{font-family:MediumFont;font-size:.8rem;pointer-events:none}.after-checkout{margin:0 auto;padding-block:5rem;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;background-color:#ecf7da;border-radius:.6rem;font-family:RegularFont;border:.1rem solid #000}.after-checkout p{font-size:2rem}.after-checkout span,.checkout-cart-display .total-line{font-family:BoldFont;font-size:2rem}.after-checkout--redirect{font-size:2rem;color:#000;text-decoration:none;font-family:RegularFont}.after-checkout .cta-button{padding:1.2rem 2.8rem;margin-top:2rem;background-color:#bae474;border-radius:.4rem;text-decoration:none;font-size:1.4rem;color:#000;border:.1rem solid #7da43c;font-family:BoldFont;letter-spacing:1px}.after-checkout .cart-icon{max-width:7.9rem}.after-checkout h3.heading{font-size:1.6rem;text-transform:uppercase;font-family:BoldFont;margin-block:1.5rem 0}.legal-term{margin-block:-1rem!important;font-size:1.2rem!important}.legal-term a{color:#000;text-decoration:underline;font-family:BoldFont}.legal-term span{font-family:BoldFont;font-size:1.2rem}.plus-text{font-size:12px;margin-top:-12px;padding-left:3px;font-family:RegularFont}.non-usa,.payment-method-selection .bottom div:last-child p,.sm{font-size:1.2rem}.checkout-cart-display .checkout-money,.discount-success .checkout-discount-value,.express-checkout_text,.non-usa,strong{font-family:BoldFont}input:focus-visible{outline:0}input::-webkit-inner-spin-button,input::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=number]{-moz-appearance:textfield}:root{--main-color:#fffef2;--accent-color:#000000;--green-color:#bae474}html{font-size:62.5%}main{padding:2.4rem 1.8rem}*{box-sizing:border-box;margin:0}img{max-width:100%;vertical-align:bottom}.checkout-cart-display table,p,span{font-family:RegularFont;font-size:1.4rem}hr{border:.05rem solid #000;margin:2.4rem 0}.hidden{display:none!important}#top_bar span{font-size:inherit;font-family:inherit}.choices__list--dropdown,.choices__list[aria-expanded],.iti__country-list{z-index:12!important}p{line-height:1.3}.navbar{display:flex;justify-content:space-between;align-items:center;width:100%;margin-bottom:4.8rem}.steps,.warranty-addon{margin:1.2rem 0}.logo{height:3.2rem}.navbar div{display:flex;align-items:center;gap:.8rem}.callout-box,.checkout-addon-toggle{display:flex;align-items:center;gap:1.4rem;padding:1.2rem 1.6rem;background-color:#fcf8cd;border-radius:.6rem}.callout-box img,.icon-holder img{width:3rem !important}.steps{display:flex;gap:2.4rem}.discount-success{padding:1.2rem;background-color:var(--green-color);text-align:center}.warranty-addon span{font-family:MediumFont}.checkout-submit-paypal{display:flex;justify-content:center;align-items:center;width:100%;padding:1.4rem;background-color:#ffc33a;border-radius:.4rem}.express-checkout-box{display:flex;flex-direction:column;align-items:center;gap:1.2rem;padding:2rem 2.4rem 2.4rem;margin-bottom:2rem;border:.1rem solid var(--accent-color);border-radius:.6rem}.express-checkout_text{font-size:1.2rem;text-align:center}.checkout-paypal-form{width:100%}.checkout-note{padding:2.5rem;margin-top:1rem;color:#000;border:none;background:#fcf8cd;border-radius:.8rem;font-size:1.8rem;text-align:left}.checkout-note img{height:36px;width:28px}.checkout-note strong{display:flex;align-items:center;gap:1rem;font-size:1.4rem;margin-bottom:.6rem}.mobile-order-summary-box{display:grid;align-items:center;grid-template-columns:auto auto;margin-bottom:2.4rem}.mobile-order-summary-box .heading{margin-bottom:0;white-space:nowrap}.mobile-order-summary-box .heading span{display:none;font-family:inherit;font-size:inherit}.mobile-order-summary-box.revealed .heading span{display:initial}.complete-purchase-text{white-space:nowrap}.mobile-order-summary-box .checkout-total-value{display:flex;align-items:center;justify-content:flex-end;font-size:1.6rem;font-family:BoldFont;text-align:right}.mobile-order-summary-box .checkout-total-value::after{display:inline-block;width:1.2rem;height:.8rem;background-image:url("/comforter/checkout/images-new-branding/down-arrow.svg");background-size:contain;background-repeat:no-repeat;background-position:50% 50%;content:"";margin-left:.4rem;transition:transform .36s ease-in-out}.mobile-order-summary-box.revealed .checkout-total-value::after{transform:rotate(180deg)}.accordion-menu{grid-area:2/1/2/3;max-height:0;visibility:hidden;opacity:0;overflow:hidden;transition:.36s ease-in-out}.mobile-order-summary-box.revealed .accordion-menu{max-height:60rem;opacity:1;visibility:visible}.form-box{padding-top:6rem}.form{display:flex;flex-direction:column;gap:3rem}.shipping-details{display:grid;grid-template-columns:1fr;grid-gap:1.2rem 3rem}.different-billing-address{display:none;padding:2.4rem;border:.1rem solid #000;border-top:0;border-bottom-right-radius:.4rem;border-bottom-left-radius:.4rem}.checkout-use-billing-address .different-billing-address{display:grid}.checkout-invalid-field input,.checkout-invalid-field select{border-color:red}.checkout-validation-help-text{font-family:RegularFont;font-size:1.4rem;margin-top:.2rem;color:red}.input{width:100%;font-family:RegularFont;font-size:1.6rem;padding:.8rem 1.4rem;border:.1rem solid #b4b4b4;border-radius:.4rem}.checkout-coupon-button,.discount-warning{font-family:BoldFont;text-transform:uppercase}.input:focus,.select-box:focus{border-color:var(--accent-color)}input[type=radio]{position:relative;min-width:1.6rem;min-height:1.6rem}input[type=radio]:after{right:0;bottom:0;box-sizing:border-box;width:100%;background-color:transparent;outline:#b9b9b9 solid .1rem;border-radius:100%;z-index:2}.is-safari input[type=radio]:after{outline:0}input[type=radio]:checked:after{background-color:#000;border:.3rem solid #fff}input[type=checkbox]{flex-shrink:0;position:relative;min-width:2rem;min-height:2rem}input[type=checkbox]:after{width:100%;background-color:#fff;border:.1rem solid #000;border-radius:.4rem;z-index:9}.billing-address-selection label:first-child,.checkout-cart-display tbody tr,.payment-method-selection .top{border-bottom:.1rem solid var(--accent-color)}input[type=checkbox]:checked:after{background-image:url("/comforter/checkout/images-new-branding/checkbox-mark.svg");background-size:1rem .7rem;background-repeat:no-repeat;background-position:50% 50%;background-color:#000}.accepts_marketing{display:flex;align-items:center;gap:1.2rem;margin-top:1.4rem}.discount-box .input{border-top-right-radius:0;border-bottom-right-radius:0}.discount-warning{display:none;margin-top:10px;padding:10px;background-color:#fede16!important;font-weight:700;text-align:center;font-size:1.4rem}.checkout-coupon-button{font-size:1.6rem;text-decoration:none;padding:.8rem 3.6rem;background-color:#303030;color:#fff;border-top-right-radius:.6rem;border-bottom-right-radius:.6rem}.checkout-coupon-button:hover{background-color:var(--accent-color);transition:.3s ease-in-out}.heading{font-family:"Ellenluff larken";font-size:2.2rem;margin-bottom:1.2rem}.select-box,footer a{font-family:RegularFont}select:focus-visible{outline:0}.select-box{display:inline-block;vertical-align:top;width:100%;padding:.8rem 1.4rem;border:1px solid #b4b4b4;border-radius:.6rem;font-size:14px;min-height:44px;overflow:hidden;background-color:#fff;color:rgba(0,0,0,.5)}.select-box.selected{color:#000}.attentive-form{margin-top:2rem}.attentive-form #accepts_attentive,.attentive-form #accepts_postscript{display:flex;align-items:flex-start;gap:1.2rem}.checkbox-detail strong{display:block;font-family:"Ellenluff larken";font-size:1.6rem}.checkbox-detail span{display:block;font-size:1.2rem;line-height:1.1}.checkbox-detail span strong{display:initial;font-family:BoldFont;font-size:inherit;color:initial;text-decoration:none}.billing-address-selection,.payment-method-selection{margin-top:1.6rem;border:.1rem solid var(--accent-color);border-radius:.4rem}.billing-address-selection label,.payment-method-selection .top{display:flex;align-items:center;gap:1rem;padding:1.4rem 1.6rem}.payment-method-selection .top label{display:flex;align-items:center;gap:1rem}.payment-method-selection .top{justify-content:space-between}.payment-method-selection .bottom{display:grid;grid-template-columns:1fr 1fr;grid-template-rows:auto auto;grid-gap:2rem 1.4rem;padding:1.6rem 3rem}.payment-method-selection .bottom div:first-child,.payment-method-selection .bottom div:last-child{grid-column:1/3}.payment-method-selection .bottom div:last-child{display:flex;align-items:center;gap:1.2rem}.payment-method-selection .bottom .input{height:4.2rem}.field-title{margin-bottom:1rem}.checkout-submit-combo{display:flex;flex-direction:column;justify-content:center;align-items:center;gap:.4rem;width:100%;padding:1.2rem .9rem;font-family:BoldFont;font-size:1.8rem;text-decoration:none;background:#ffd814;color:var(--accent-color);border:.1rem solid #f0c14b;border-radius:.6rem;transition:.3s ease-in-out}.checkout-remove-item,footer a{color:#000;text-decoration:none}.checkout-submit-combo:hover{background:#f7ca00}.button-text{display:flex;gap:1rem}.checkout-submit-combo p{font-family:BoldFont;font-size:1.2rem;text-align:center}.guarantee-box{display:flex;align-items:center;gap:2.4rem;margin-top:2rem}.checkout-cart-display .product-line img,.guarantee-box img{width:7.2rem}footer{display:flex;justify-content:space-between;align-items:center}footer div{display:flex;gap:.6rem}footer a{font-size:1.2rem}footer a:hover{text-decoration:underline;transition:.3s ease-in-out}.summary-box{display:none;padding-top:6.4rem}.checkout-cart-display tbody{display:flex;flex-direction:column}.checkout-cart-display tbody tr{display:flex;justify-content:space-between;align-items:center;width:100%;padding:.8rem 0}.checkout-cart-display tbody tr:last-child{border-bottom:0}.checkout-cart-display .product-line td:not(.checkout-money){display:grid;grid-template-columns:auto auto;grid-template-rows:auto auto;align-items:center;gap:.5rem 1.2rem}.checkout-cart-display .product-line td:not(.checkout-money) img{grid-column:1/1;grid-row:1/3}.increment-button{display:flex;align-items:center;justify-content:center;grid-column:2/2;position:relative;width:fit-content;font-family:BoldFont}.decrement,.increment{position:absolute;cursor:pointer;z-index:10000;font-size:1.7rem}.flex-quantity{width:32%;display:flex;align-items:center;justify-content:center}.decrement{left:.5rem}.increment{right:.5rem}.quantity-input{text-align:center;border-radius:.5rem;font-family:RegularFont;border:.02rem solid #000;padding-block:.7rem}.increment-button input{max-width:8rem;pointer-events:none}@media screen and (max-width:768px){.increment-button input{max-width:10rem;padding:.7rem 0;pointer-events:none}}.checkout-cart-display .product-line .checkout-money{display:flex;flex-direction:column;align-items:flex-end;justify-content:center;margin-left:auto;margin-right:.6rem}.checkout-remove-item{text-transform:uppercase;font-family:BoldFont;white-space:pre;font-size:.9rem;display:flex;align-items:center;justify-content:flex-end;grid-row-start:2;grid-column-start:2}.remove-icon{height:12px!important;width:12px!important;pointer-events:none}.checkout-cart-display .checkout-money .compare-at-price{font-family:RegularFont;text-decoration:line-through}.summary-content{margin-top:4rem}.inner-headline-box{display:flex;align-items:center;gap:1.6rem;margin-bottom:3rem}.inner-headline-box div{flex:1;height:.1rem;background-color:var(--accent-color)}.inner-headline-box h5{font-family:"Ellenluff larken";font-size:1.2rem;text-transform:uppercase}.flex{display:flex;align-items:flex-start;gap:1.2rem;margin-bottom:3rem}.flex.align-center{align-items:center!important}.flex img{width:5.4rem}.flex-sm{display:flex;align-items:center;gap:.6rem}.flex-sm .checkmark-icon{width:1.2rem}.review,.review-author{margin-top:1.2rem}.icon-holder{display:flex;justify-content:center;align-items:center;min-width:6.4rem;min-height:6.4rem;border:.1rem solid var(--accent-color);border-radius:100%}@media screen and (min-width:980px){main{display:grid;grid-template-columns:5.5fr 4.5fr;padding:0}.logo{height:4.6rem}.checkout-box .container{max-width:55rem}.summary-box .container{max-width:45rem}.checkout-box{display:flex;justify-content:flex-end;padding:2.4rem 8rem}.shipping-details{grid-template-columns:1fr 1fr}.shipping-details .iti-holder{grid-column:1/3}.iti,.shipping-details .full-width{width:100%}.summary-box{display:block;background-color:var(--main-color);padding-left:4.6rem;padding-right:2.4rem;border-left:.1rem solid var(--accent-color)}.mobile-order-summary-box{display:none}.checkout-note.is-mobile{display:none!important}}@media screen and (max-width:400px){.callout-box{padding:1.2rem;gap:1rem}.callout-box p{font-size:1.2rem}}@font-face{font-family:BoldFont;src:url("/comforter/checkout/fonts-new-branding/Brandon/Brandon_bld.woff2");font-weight:700;font-style:bold;font-display:swap}@font-face{font-family:MediumFont;src:url("/comforter/checkout/fonts-new-branding/Brandon/Brandon_med.woff2");font-weight:500;font-style:medium;font-display:swap}@font-face{font-family:RegularFont;src:url("/comforter/checkout/fonts-new-branding/Brandon/Brandon_reg.woff2");font-weight:400;font-style:normal;font-display:swap}@font-face{font-family:"Ellenluff larken";src:url("/comforter/checkout/fonts-new-branding/Larken/EllenLuff---Larken-Light.woff2") format("woff2");font-weight:300;font-style:normal;font-display:swap}@font-face{font-family:"Ellenluff larken Regular";src:url("/comforter/checkout/fonts-new-branding/Larken/EllenLuff---Larken-Regular.woff2") format("woff2");font-weight:300;font-style:normal;font-display:swap}@font-face{font-family:"Ellenluff larken Bold";src:url("/comforter/checkout/fonts-new-branding/Larken/EllenLuff---Larken-Bold.woff2") format("woff2");font-weight:700;font-style:normal;font-display:swap}
	</style>
	<!-- CSS REFERENCE
	<link rel="stylesheet" type="text/css" href="/comforter/checkout/css-new-branding/checkout.css" />
	-->	
	<!-- RTC CONFIG -->
	<meta content="api.shopmiraclebrand.co" name="checkout-api-endpoint" />
	<meta content="39544429248662" name="checkout-default-variant-id">
	<meta content="" name="checkout-default-addons">
	<meta content="mb-comforter-checkout-v2-c-v4" name="checkout-page-name">
	<meta content="comforter" name="checkout-aux-page-name">
	<meta content="/up/comforter/5b.html" name="checkout-next-url" id="checkoutNextUrlMeta">
	<script type="text/javascript" src="https://cdn.shopmiraclebrand.co/js/cart_loader.js"></script>

	<script type="text/javascript">
		Checkout.setNextUrlFn((cart) => {
			if (sessionStorage.getItem("ksp") && sessionStorage.getItem("ksp") === "true") {
				console.log("Worked Inside")
			  return '/up/5b-3temp.html'; 
			}else {
				return '/up/comforter/5b.html';  
			}
		});
	</script>

	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/choices.js/public/assets/styles/choices.min.css" />
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.8/css/intlTelInput.css" />
	<script src="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.8/js/intlTelInput.min.js"></script>
	<!-- Begin: Northbeam Pixel -->
	<script async type="text/javascript" src="//j.northbeam.io/ota-sp/d6b41dbb-ce9e-4e1e-bdc2-36492a0d7ac1.js"></script>
	<!-- End: Northbeam Pixel -->

	<script>
		const internalPage = true;
	</script>

	<!-- Google Tag Manager -->
	<script>(function (w, d, s, l, i) {
			w[l] = w[l] || []; w[l].push({
				'gtm.start':
					new Date().getTime(), event: 'gtm.js'
			}); var f = d.getElementsByTagName(s)[0],
				j = d.createElement(s), dl = l != 'dataLayer' ? '&l=' + l : ''; j.async = true; j.src =
					'https://www.googletagmanager.com/gtm.js?id=' + i + dl; f.parentNode.insertBefore(j, f);
		})(window, document, 'script', 'dataLayer', 'GTM-MKJPBJLM');</script>
	<!-- End Google Tag Manager -->
	<script>
		window.addEventListener("load", () => {
			(function (d) {
				var s = d.createElement("script");
				s.setAttribute("data-position", 7);
				s.setAttribute("data-size", "small");
				s.setAttribute("data-color", "#FFF");
				s.setAttribute("data-account", "YtBxI18gI8");
				s.setAttribute("src", "https://cdn.userway.org/widget.js");
				s.async = true;
				(d.body || d.head).appendChild(s);
			})(document);
			
			const checkInterval = setInterval(() => {
				const icon = document.getElementById("userwayAccessibilityIcon");
				if (icon?.length) {
					icon.style.background = "transparent";
					clearInterval(checkInterval);
				}
			}, 100);

			setTimeout(() => clearInterval(checkInterval), 10000);
		});
	</script>
	<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCEQ6ddrmYpatEuT1t1rrDhVqVu7HZiKqg&libraries=places&callback=initAutocomplete"defer></script>

	<!-- Start VWO Async SmartCode --> <link rel="preconnect" href="https://dev.visualwebsiteoptimizer.com" /> <script type='text/javascript' id='vwoCode'> window._vwo_code || (function() { var account_id=1010263, version=2.1, settings_tolerance=2000, hide_element='body', hide_element_style = 'opacity:0 !important;filter:alpha(opacity=0) !important;background:none !important;transition:none !important;', /* DO NOT EDIT BELOW THIS LINE */ f=false,w=window,d=document,v=d.querySelector('#vwoCode'),cK='_vwo_'+account_id+'_settings',cc={};try{var c=JSON.parse(localStorage.getItem('_vwo_'+account_id+'_config'));cc=c&&typeof c==='object'?c:{}}catch(e){}var stT=cc.stT==='session'?w.sessionStorage:w.localStorage;code={nonce:v&&v.nonce,use_existing_jquery:function(){return typeof use_existing_jquery!=='undefined'?use_existing_jquery:undefined},library_tolerance:function(){return typeof library_tolerance!=='undefined'?library_tolerance:undefined},settings_tolerance:function(){return cc.sT||settings_tolerance},hide_element_style:function(){return'{'+(cc.hES||hide_element_style)+'}'},hide_element:function(){if(performance.getEntriesByName('first-contentful-paint')[0]){return''}return typeof cc.hE==='string'?cc.hE:hide_element},getVersion:function(){return version},finish:function(e){if(!f){f=true;var t=d.getElementById('_vis_opt_path_hides');if(t)t.parentNode.removeChild(t);if(e)(new Image).src='https://dev.visualwebsiteoptimizer.com/ee.gif?a='+account_id+e}},finished:function(){return f},addScript:function(e){var t=d.createElement('script');t.type='text/javascript';if(e.src){t.src=e.src}else{t.text=e.text}v&&t.setAttribute('nonce',v.nonce);d.getElementsByTagName('head')[0].appendChild(t)},load:function(e,t){var n=this.getSettings(),i=d.createElement('script'),r=this;t=t||{};if(n){i.textContent=n;d.getElementsByTagName('head')[0].appendChild(i);if(!w.VWO||VWO.caE){stT.removeItem(cK);r.load(e)}}else{var o=new XMLHttpRequest;o.open('GET',e,true);o.withCredentials=!t.dSC;o.responseType=t.responseType||'text';o.onload=function(){if(t.onloadCb){return t.onloadCb(o,e)}if(o.status===200||o.status===304){_vwo_code.addScript({text:o.responseText})}else{_vwo_code.finish('&e=loading_failure:'+e)}};o.onerror=function(){if(t.onerrorCb){return t.onerrorCb(e)}_vwo_code.finish('&e=loading_failure:'+e)};o.send()}},getSettings:function(){try{var e=stT.getItem(cK);if(!e){return}e=JSON.parse(e);if(Date.now()>e.e){stT.removeItem(cK);return}return e.s}catch(e){return}},init:function(){if(d.URL.indexOf('__vwo_disable__')>-1)return;var e=this.settings_tolerance();w._vwo_settings_timer=setTimeout(function(){_vwo_code.finish();stT.removeItem(cK)},e);var t;if(this.hide_element()!=='body'){t=d.createElement('style');var n=this.hide_element(),i=n?n+this.hide_element_style():'',r=d.getElementsByTagName('head')[0];t.setAttribute('id','_vis_opt_path_hides');v&&t.setAttribute('nonce',v.nonce);t.setAttribute('type','text/css');if(t.styleSheet)t.styleSheet.cssText=i;else t.appendChild(d.createTextNode(i));r.appendChild(t)}else{t=d.getElementsByTagName('head')[0];var i=d.createElement('div');i.style.cssText='z-index: 2147483647 !important;position: fixed !important;left: 0 !important;top: 0 !important;width: 100% !important;height: 100% !important;background: white !important;display: block !important;';i.setAttribute('id','_vis_opt_path_hides');i.classList.add('_vis_hide_layer');t.parentNode.insertBefore(i,t.nextSibling)}var o=window._vis_opt_url||d.URL,s='https://dev.visualwebsiteoptimizer.com/j.php?a='+account_id+'&u='+encodeURIComponent(o)+'&vn='+version;if(w.location.search.indexOf('_vwo_xhr')!==-1){this.addScript({src:s})}else{this.load(s+'&x=true')}}};w._vwo_code=code;code.init();})(); </script> <!-- End VWO Async SmartCode -->
	<!-- Start: Paypal Script -->
	<script>
		(function (a, t, o, m, i) {
			a[m] = a[m] || [];
			a[m].push({
				t: new Date().getTime(),
				event: 'snippetRun'
			});
			var f = t.getElementsByTagName(o)[0],
				e = t.createElement(o);
			e.async = !0;
			e.dataset.namespace = "paypal_sdk";
			e.src = 'https://www.paypal.com/sdk/js?components=shopping&client-id=' + i;
			f.parentNode.insertBefore(e, f);
		})(window, document, 'script', 'shoppingDDL', 'AUvZCmTImA-03Jrtr4x_ZdRAnJIL5wFVUC5_eenqw8Ynfecok5HhftLx3-ViQ-QWvmBrGyHICNnoFJrm');

		var pptag = {
			send: function (e, p) {
				shoppingDDL.push({
					event: e,
					payload: p
				});
			},
			set: function (s) {
				shoppingDDL.push({
					set: s
				});
			}
		};
	</script>
	<!-- End: Paypal Script -->
</head>

<body>
	<!-- Google Tag Manager (noscript) -->
	<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MKJPBJLM" height="0" width="0"
			style="display:none;visibility:hidden"></iframe></noscript>
	<!-- End Google Tag Manager (noscript) -->
	<main>
		<section class="checkout-box">
			<div class="container">
				<div class="navbar">
					<img src="/comforter/checkout/images-new-branding/logo.svg" alt="Miracle Made | Logo"
						class="logo" />
					<div>
						<img src="/comforter/checkout/images-new-branding/secure-icon.svg"
							alt="Secure Payment by Miracle Made" class="secure-icon" />
						<p>
							<strong class="uppercase">Secure <br />
								Checkout</strong>
						</p>
					</div>
				</div>
				<div class="mobile-order-summary-box">
					<h3 class="heading" id="mobile-summary-heading">
						<span>Hide </span>Order Summary
					</h3>
					<p class="checkout-total-value"></p>
					<div class="accordion-menu">
						<div data-show-compare-pricing="true" data-show-product-images="true" data-currency-symbol="$"
							class="checkout-cart-display mobile-display">
							<div class="skeleton-load"></div>
						</div>
						<div class="plus-text">*Plus applicable taxes</div>
					</div>
				</div>
				<div class="callout-box">
					<img src="/comforter/checkout/images-new-branding/discount.png" alt="Discount Icon" />
					<p>
						<strong class="uppercase">Sale ends soon!</strong> Your cart is
						reserved for:
						<strong class="timer time-remaining" data-timer-duration="900">15:00</strong>
					</p>
				</div>
				<div class="steps">
					<p class="step"><strong>Checkout</strong></p>
					<img src="/comforter/checkout/images-new-branding/next-arrow.svg" alt="Next Step on Checkout"
						class="right-arrow" />
					<p class="step">Special Offers</p>
					<img src="/comforter/checkout/images-new-branding/next-arrow.svg" alt="Next Step on Checkout"
						class="right-arrow" />
					<p class="step">Order Receipt</p>
				</div>
				<div class="discount-box">
					<form name="coupon_form_desktop">
						<input type="text" class="input checkout-coupon-field" maxlength="256"
							name="coupon_desktop_field" placeholder="Promo code (optional)" id="coupon_desktop_field" />
						<a href="#" class="checkout-coupon-button">Redeem</a>
					</form>
					<div class="discount-success hidden">
						<div class="discount-message">
							<span class="discount-applied">Discount Applied! You're saving</span>
							<span class="checkout-discount-value">0.00</span>
						</div>
					</div>
					<div class="w-form-fail discount-warning">
						<div>This discount code cannot be used</div>
					</div>
				</div>
				<div class="warranty-addon">
					<form>
						<label data-variant-id="42536178319510" class="w-checkbox checkout-addon-toggle">
							<input type="checkbox" checked name="checkout-addon-toggle" id="checkout-addon-toggle" />
							<span for="checkout-addon-toggle" class="checkbox-detail">
								<span>Yes, Add 2-Year Wear &amp; Tear Warranty For Only
									$19.99</span>
							</span>
						</label>
					</form>
				</div>
				<div class="shipping-options">
					<h3 class="heading">Select Your Shipping Option</h3>
					<form>
						<label style="pointer-events: none;">
							<input type="radio" checked class="shipping-option" data-shipping-line="FREE">
							<div>
								<span>FREE shipping: Est 4-8 business days</span>
								<span class="shipment-price" value="0">FREE</span>
							</div>
						</label>

						<label style="pointer-events: none;">
							<input data-variant-id="42768329736342" type="radio" class="shipping-option"
								data-shipping-line="PREMIUM PLUS">
							<div>
								<span>Premium Plus: Get it faster! <br class="mobile"> Est 3-5 business days</span>
								<span class="shipment-price" value="2.99">$2.99</span>
							</div>
						</label>
					</form>
				</div>
				<div class="express-checkout-box">
					<p class="express-checkout_text">Express Checkout</p>
					<div class="checkout-paypal-form">
						<div class="skeleton-load"></div>
						<div id="form_paypal" class="form-paypal w-form">
							<form id="form_paypal" data-name="form_paypal" class="checkout-paypal-form">
								<a href="#" class="checkout-submit-paypal">
									<img src="/comforter/checkout/images-new-branding/paypal.svg"
										alt="Paypal Logo" />
								</a>
							</form>
						</div>
					</div>
				</div>
				<p class="express-checkout_text">Or Pay with Credit Card</p>
				<div class="form-box">
					<form method="post" redirect="https://try.javycoffee.com/up5/"
						data-redirect="https://try.javycoffee.com/up5/" class="form checkout-combo-form">
						<div class="form-group">
							<h3 class="heading">Contact Information</h3>
							<div class="form-group">
								<input type="email" class="input" autocomplete="email" maxlength="256" name="email"
									data-name="email" placeholder="E-Mail*" id="email" required />
							</div>
							<label class="accepts_marketing">
								<input type="checkbox" id="accepts_marketing" name="accepts_marketing" checked />
								<span for="accepts_marketing" class="checkbox-detail w-form-label">
									Keep me up to date on news and exclusive offers
								</span>
							</label>
						</div>
						<div class="form-group">
							<h3 class="heading">Shipping Address</h3>
							<div class="shipping-details">
								<div class="form-group"><input type="text" class="input" autocomplete="given-name"
										maxlength="256" name="shipping_first_name" placeholder="First Name*"
										id="shipping_first_name" required /></div>
								<div class="form-group"><input type="text" class="input" autocomplete="family-name"
										maxlength="256" name="shipping_last_name" placeholder="Last Name*"
										id="shipping_last_name" required /></div>
								<div class="form-group"><input type="text" class="input full-width"
										autocomplete="address-line1" maxlength="256" name="shipping_address1"
										placeholder="Address*" id="shipping_address_1" required /></div>
								<div class="form-group"><input type="text" class="input full-width"
										autocomplete="address-line2" maxlength="256" name="shipping_address2"
										placeholder="Apartment, suite, etc. (optional)" id="shipping_address_2" /></div>
								<div class="form-group"><select id="shipping_country" name="shipping_country"
										autocomplete="country-name" class="select-box" required></select></div>
								<div class="form-group"><select id="shipping_state" name="shipping_state"
										autocomplete="address-level1" class="select-box" required></select></div>
								<div class="form-group"><input type="text" class="input" autocomplete="address-level2"
										maxlength="256" name="shipping_city" placeholder="City*" id="shipping_city"
										required /></div>
								<div class="form-group"><input type="text" class="input" autocomplete="postal-code"
										maxlength="256" name="shipping_postal_code" placeholder="Zip Code*"
										id="shipping_postal_code" required /></div>
								<div class="form-group iti-holder"><input type="tel" maxlength="256"
										name="ship_field_intl" id="ship_field_intl" autocomplete="tel-full"
										class="input full-width" /></div>
								<div class="form-group"><input type="hidden" name="shipping_phone" id="shipping_phone"
										value="" /></div>
							</div>
							<div class="attentive-form">
								<label id="accepts_attentive">
									<input type="checkbox" id="accepts_attentive" name="accepts_attentive" />
									<span for="accepts_attentive" class="checkbox-detail">
										<strong>Get 10% Off Your Next Order</strong>
										<span>By checking this box you agree to receive recurring
											automated promotional and personalized marketing text
											messages <strong>(e.g. cart reminders)</strong> from
											Miracle Made at the cell number used when signing up. Joining
											is not a condition of any purchase.
											<strong>Reply HELP for help and STOP to cancel.</strong>
											Msg frequency varies & Msg data rates may apply. View
											<a href="https://www.miraclebrand.co/pages/terms-and-conditions"
												target="_blank">Terms & Privacy.</a></span>
									</span>
								</label>
							</div>
						</div>
						<div class="form-group">
							<h3 class="heading">Billing Address</h3>
							<p class="form-description">
								Select the address that matches your card or payment method.
							</p>
							<div class="billing-address-selection">
								<label class="same-shipping">
									<input type="radio" value="true" name="billing_use_shipping" checked />
									<span>Same as shipping address</span>
								</label>
								<label class="different-shipping">
									<input type="radio" value="false" name="billing_use_shipping" />
									<span>Use a different billing address</span>
								</label>
							</div>
							<div class="shipping-details different-billing-address">
								<div class="form-group"><input type="text" class="input" autocomplete="given-name"
										maxlength="256" name="billing_first_name" placeholder="First Name*"
										id="billing_first_name" /></div>
								<div class="form-group"><input type="text" class="input" autocomplete="family-name"
										maxlength="256" name="billing_last_name" placeholder="Last Name*"
										id="billing_last_name" /></div>
								<div class="form-group"><input type="text" class="input" autocomplete="address-line1"
										maxlength="256" name="billing_address1" placeholder="Address*"
										id="billing_address_1" /></div>
								<div class="form-group"><input type="text" class="input" autocomplete="address-line2"
										maxlength="256" name="billing_address2"
										placeholder="Apartment, suite, etc. (optional)" id="billing_address_2" /></div>
								<div class="form-group"><select id="billing_country" name="billing_country"
										autocomplete="country-name" class="select-box"></select></div>
								<div class="form-group"><select id="billing_state" name="billing_state"
										autocomplete="address-level1" class="select-box"></select></div>
								<div class="form-group"><input type="text" class="input" autocomplete="address-level2"
										maxlength="256" name="billing_city" placeholder="City*" id="billing_city" />
								</div>
								<div class="form-group"><input type="text" class="input" autocomplete="postal-code"
										maxlength="256" name="billing_postal_code" placeholder="Zip Code*"
										id="billing_postal_code" /></div>
								<div class="form-group iti-holder"><input type="tel" maxlength="256"
										name="billing_field_intl" id="billing_field_intl" autocomplete="tel-full"
										class="input" /></div>
								<input type="hidden" name="billing_phone" id="billing_phone" value="" />
							</div>
						</div>
						<div class="form-group">
							<h3 class="heading">Payment Method</h3>
							<p class="form-description">
								All transactions are secure and encrypted.
							</p>
							<div class="payment-method-selection">
								<div class="top">
									<label combo_mode="credit">
										<input type="radio" value="credit" id="combo_mode_credit" name="combo_mode"
											checked />
										<span for="credit">Credit Card</span>
									</label>
									<img src="/comforter/checkout/images-new-branding/ccs.svg" loading="lazy"
										alt="" class="cc-image" />
								</div>
								<div class="bottom">
									<div class="field">
										<p class="field-title">Credit Card Number</p>
										<div class="input" id="braintree-cc-number"></div>
									</div>
									<div class="field">
										<p class="field-title">Valid Through</p>
										<div class="input" id="braintree-expiry"></div>
									</div>
									<div class="field">
										<p class="field-title">CVV</p>
										<div class="input" id="braintree-cvv"></div>
									</div>
									<div>
										<img src="/comforter/checkout/images-new-branding/protect.svg"
											alt="Protect Icon" />
										<p>
											We protect your payment information using encryption to
											provide bank-level security.
										</p>
									</div>
								</div>
							</div>
						</div>
						<p class="legal-term">By clicking the <span>"Complete Purchase"</span> button, you hereby agree
							to and accept Pattern Brands LLC's <a target="_blank"
								href="https://www.miraclebrand.co/pages/privacy-policy">Privacy Policy</a> and <a
								target="_blank" href="https://www.miraclebrand.co/pages/terms-and-conditions">Terms of
								Use</a></p>

						<a href="#" class="checkout-submit-combo">
							<div class="loader-wrapper">
								<div class="loader"></div>
							</div>
							<div class="button-text">
								<img src="/comforter/checkout/images-new-branding/locker.svg"
									alt="Complete Purchase" />
								<div class="complete-purchase-text ct">COMPLETE PURCHASE</div>
							</div>
							<p>TRY IT RISK FREE! - 30 DAY MONEY BACK GUARANTEE!</p>
						</a>
					</form>
					<div class="guarantee-box">
						<img src="/comforter/checkout/images-new-branding/money-back.png"
							alt="Money Back Guarantee by Miracle Made" />
						<p>
							<strong>30-Day Guarantee:</strong> Pattern Brands offers a 30-Day Money
							Back Guarantee in case you don't fall in love with our product.
						</p>
					</div>
					<div class="trusted-customer-mobile">
						<div class="inner-headline-box">
							<div></div>
							<h5>Trusted Customer Reviews</h5>
							<div></div>
						</div>
						<div class="flex">
							<img src="/comforter/checkout/images-new-branding/comforter-reviews/Evelyn_O.jpg"
								alt="Evelyn's 5-star Review for Miracle Brand" />
							<div>
								<div class="flex-sm review-author">
									<img src="/comforter/checkout/images-new-branding/stars.svg"
										alt="5-star Icon" />
									<p><strong>Evelyn O.</strong></p>
								</div>
								<div class="flex-sm">
									<img src="/comforter/checkout/images-new-branding/checkmark.svg"
										alt="Verified Buyer" class="checkmark-icon" />
									<p><strong class="uppercase sm">Verified Buyer</strong></p>
								</div>
								<p class="review">
									"Love it! Its soft, cold to the touch, very light weight. This blankets has been the
									best additional for summer in my household. if you are a warm sleeper this is
									perfect for you! Looks great too. Even the packing was super nice, came with a
									velcro ribbon wrapped around, I used it to bundle up my old comforter!"
								</p>
							</div>
						</div>
						<div class="flex">
							<img src="/comforter/checkout/images-new-branding/comforter-reviews/Sean_D.jpg"
								alt="Sean's 5-star Review for Miracle Brand" />
							<div>
								<div class="flex-sm review-author">
									<img src="/comforter/checkout/images-new-branding/stars.svg"
										alt="5-star Icon" />
									<p><strong>Sean D.</strong></p>
								</div>
								<div class="flex-sm">
									<img src="/comforter/checkout/images-new-branding/checkmark.svg"
										alt="Verified Buyer" class="checkmark-icon" />
									<p><strong class="uppercase sm">Verified Buyer</strong></p>
								</div>
								<p class="review">
									This comforter is worth every penny! The sleek packaging had me impressed right from
									the start, but the real magic is how it keeps me cool and comfy all night long.
									Miracle truly lives up to its name - best sleep ever!
								</p>
							</div>
						</div>
					</div>
					<div class="checkout-note hidden is-mobile">
						<strong>
							<img src="/comforter/checkout/images-new-branding/tax.svg">Taxes for this order will
							be charged when you receive the package
						</strong>
						<p>
							Shipments from the USA pay taxes/duty upon receipt instead of when paying online. Depending
							on your province, the rate will be between 5% to 20%. This is set by the Canadian
							government.
						</p>
					</div>
				</div>
				<hr />
				<footer>
					<div>
						<img src="/comforter/checkout/images-new-branding/rtc-logo.svg" alt="RTC Logo" />
						<p>Powered by RTC</p>
					</div>
					<div>
						<a href="https://www.miraclebrand.co/pages/terms-and-conditions" target="_blank">Terms of
							Service</a>
						<a href="https://www.miraclebrand.co/pages/privacy-policy" target="_blank">Privacy Policy</a>
					</div>
				</footer>
			</div>
		</section>
		<section class="summary-box">
			<div class="container">
				<div class="summary">
					<h3 class="heading">Order Summary</h3>
					<div data-show-compare-pricing="true" data-show-product-images="true" data-currency-symbol="$"
						class="checkout-cart-display">
						<div class="skeleton-load"></div>
					</div>
					<div class="plus-text">*Plus applicable taxes</div>
				</div>
				<div class="checkout-note hidden">
					<strong>
						<img src="/comforter/checkout/images-new-branding/tax.svg">Taxes for this order will be
						charged <br> when you receive the package
					</strong>
					<p>
						Shipments from the USA pay taxes/duty upon receipt instead of when paying online. Depending on
						your province, the rate will be between 5% to 20%. This is set by the Canadian government.
					</p>
				</div>
				<div class="summary-content">
					<div class="inner-headline-box">
						<div></div>
						<h5>Trusted Customer Reviews</h5>
						<div></div>
					</div>
					<div class="flex">
						<img src="/comforter/checkout/images-new-branding/comforter-reviews/Evelyn_O.jpg"
							alt="Evelyn's 5-star Review for Miracle Brand" />
						<div>
							<div class="flex-sm review-author">
								<img src="/comforter/checkout/images-new-branding/stars.svg" alt="5-star Icon" />
								<p><strong>Evelyn O.</strong></p>
							</div>
							<div class="flex-sm">
								<img src="/comforter/checkout/images-new-branding/checkmark.svg"
									alt="Verified Buyer" class="checkmark-icon" />
								<p><strong class="uppercase sm">Verified Buyer</strong></p>
							</div>
							<p class="review">
								"Love it! Its soft, cold to the touch, very light weight. This blankets has been the
								best additional for summer in my household. if you are a warm sleeper this is perfect
								for you! Looks great too. Even the packing was super nice, came with a velcro ribbon
								wrapped around, I used it to bundle up my old comforter!"
							</p>
						</div>
					</div>
					<div class="flex">
						<img src="/comforter/checkout/images-new-branding/comforter-reviews/Sean_D.jpg"
							alt="Sean's 5-star Review for Miracle Brand" />
						<div>
							<div class="flex-sm review-author">
								<img src="/comforter/checkout/images-new-branding/stars.svg" alt="5-star Icon" />
								<p><strong>Sean D.</strong></p>
							</div>
							<div class="flex-sm">
								<img src="/comforter/checkout/images-new-branding/checkmark.svg"
									alt="Verified Buyer" class="checkmark-icon" />
								<p><strong class="uppercase sm">Verified Buyer</strong></p>
							</div>
							<p class="review">
								This comforter is worth every penny! The sleek packaging had me impressed right from the
								start, but the real magic is how it keeps me cool and comfy all night long. Miracle
								truly lives up to its name - best sleep ever!
							</p>
						</div>
					</div>
				</div>
				<div class="summary-content">
					<div class="inner-headline-box">
						<div></div>
						<h5>why choose us</h5>
						<div></div>
					</div>
					<div class="flex align-center">
						<div class="icon-holder">
							<img src="/comforter/checkout/images-new-branding/calendar.svg"
								alt="30-day money back guarantee" />
						</div>
						<div>
							<p><strong>30-Day Satisfaction Guarantee</strong></p>
							<p>
								If you're not satisfied with your product(s), we'll make it
								right! We promise.
							</p>
						</div>
					</div>
					<div class="flex align-center">
						<div class="icon-holder">
							<img src="/comforter/checkout/images-new-branding/fast-shipping.svg"
								alt="Fast shipping by Miracle Made" />
						</div>
						<div>
							<p>
								<strong>Over 221,878+ successfully shipped orders</strong>
							</p>
							<p>
								Happy customers, end-to-end tracking and reliable customer
								service.
							</p>
						</div>
					</div>
				</div>
			</div>
		</section>
	</main>
	<script src="https://cdn.jsdelivr.net/npm/choices.js/public/assets/scripts/choices.min.js"></script>
	<script src="/comforter/checkout/js/checkout-v2-c-v4.js" type="text/javascript"></script>

	<script>

		let productQuantity = 1;
		var input = document.getElementById('shipping_address_1');
		let autocompleteShipping;
		let shippingField1;
		let shippingField2;
		let shippingPostalField;

		let autocompleteBilling;
		let billingField1;
		let billingField2;
		let billingPostalField;

		function initAutocomplete() {
			/////////////////////////// Shipping ///////////////////////////
			shippingField1 = document.querySelector("#shipping_address_1");
			shippingField2 = document.querySelector("#shipping_address_2");
			shippingPostalField = document.querySelector("#shipping_postal_code");

			autocompleteShipping = new google.maps.places.Autocomplete(shippingField1, {
			fields: ["address_components", "geometry"],
			types: ["address"],
			});

			// When the user selects an address from the drop-down, populate the
			// address fields in the form.
			autocompleteShipping.addListener("place_changed", fillInAddress);

			/////////////////////////// Billing ///////////////////////////
			billingField1 = document.querySelector("#billing_address_1");
			billingField2 = document.querySelector("#billing_address_2");
			billingPostalField = document.querySelector("#billing_postal_code");

			autocompleteBilling = new google.maps.places.Autocomplete(billingField1, {
			fields: ["address_components", "geometry"],
			types: ["address"],
			});

			autocompleteBilling.addListener("place_changed", fillInBillingAddress);
		}

		function fillInAddress() {
			// Get the place details from the autocomplete object.
			const place = autocompleteShipping.getPlace();
			let address1 = "";
			let postcode = "";
			let stateShortName = "";
			let stateLongName = "";
			let shippingCountry = null;

			// Get each component of the address from the place details,
			// and then fill-in the corresponding field on the form.
			// place.address_components are google.maps.GeocoderAddressComponent objects
			// which are documented at http://goo.gle/3l5i5Mr
			for (const component of place.address_components) {
			const componentType = component.types[0];

			switch (componentType) {
				case "street_number": {
				address1 = `${component.long_name} ${address1}`;
				break;
				}

				case "route": {
				address1 += component.short_name;
				break;
				}

				case "postal_code": {
				postcode = `${component.long_name}${postcode}`;
				shippingPostalField.value = postcode;
				setParentElementAsValid(shippingPostalField);
				break;
				}

				case "locality": {
				const cityInput = document.querySelector("#shipping_city");
				cityInput.value = component.long_name;
				setParentElementAsValid(cityInput);
				break;
				}

				case "country": {
				const countrySelect = document.querySelector("#shipping_country");
				const shippingInput = document.querySelector("#ship_field_intl");
				const countryValue = component.short_name;
				shippingCountry = countryValue;
				selectCountry(countrySelect, countryValue);
				setParentElementAsValid(countrySelect);
				setPhoneInput(shippingInput, countryValue);
				break;
				}

				case "administrative_area_level_1": {
				stateLongName = component.long_name;
				stateShortName = component.short_name;
				break;
				}
			}
			}

			shippingField1.value = address1;
			shippingField2.focus();

			if (shippingCountry) {
			const stateSelect = document.querySelector("#shipping_state");
			selectState(stateSelect, stateLongName, stateShortName);
			setParentElementAsValid(stateSelect);
			}
		}

		function fillInBillingAddress() {
			const place = autocompleteBilling.getPlace();
			let address1 = "";
			let postcode = "";
			let stateShortName = "";
			let stateLongName = "";
			let billingCountry = null;

			for (const component of place.address_components) {
			const componentType = component.types[0];

			switch (componentType) {
				case "street_number": {
				address1 = `${component.long_name} ${address1}`;
				break;
				}

				case "route": {
				address1 += component.short_name;
				break;
				}

				case "postal_code": {
				postcode = `${component.long_name}${postcode}`;
				billingPostalField.value = postcode;
				setParentElementAsValid(billingPostalField);
				break;
				}

				case "locality": {
				const cityInput = document.querySelector("#billing_city");
				cityInput.value = component.long_name;
				setParentElementAsValid(cityInput);
				break;
				}

				case "country": {
				const countrySelect = document.querySelector("#billing_country");
				const billingInput = document.querySelector("#billing_field_intl");
				const countryValue = component.short_name;
				billingCountry = countryValue;
				selectCountry(countrySelect, countryValue);
				setParentElementAsValid(countrySelect);
				setPhoneInput(billingInput, countryValue);
				break;
				}

				case "administrative_area_level_1": {
				stateLongName = component.long_name;
				stateShortName = component.short_name;
				break;
				}
			}
			}

			billingField1.value = address1;
			billingField2.focus();

			if (billingCountry) {
			const stateSelect = document.querySelector("#billing_state");
			selectState(stateSelect, stateLongName, stateShortName);
			setParentElementAsValid(stateSelect);
			}
		}

		function setParentElementAsValid(element) {
			element.parentNode.classList.add("checkout-valid-field");
		}

		function selectCountry(countrySelect, value) {
			countrySelect.value = value;
			countrySelect.classList.add("selected");
			countrySelect.dispatchEvent(new Event("change", { bubbles: true }));
		}

		function selectState(stateSelect, longValue, shortValue) {
			for (const option of stateSelect.options) {
			if (
				option.value.includes(longValue) ||
				option.value.includes(shortValue)
			) {
				stateSelect.value = option.value;
				stateSelect.classList.add("selected");
			}
			}
			stateSelect.dispatchEvent(new Event("change", { bubbles: true }));
		}

		function setPhoneInput(phoneField, selectedCountry) {
			const intlPhoneInput = window.intlTelInputGlobals.getInstance(phoneField);
			intlPhoneInput.setCountry(selectedCountry.toLowerCase());
			phoneField.dispatchEvent(new Event("change"));
		}

		window.initAutocomplete = initAutocomplete;
		
		window.checkoutReadyCallbacks = window.checkoutReadyCallbacks || [];
		window.checkoutReadyCallbacks.push(() => {
		if (checkoutData.cart.localCart.state.discountTotal > 0) {
			document.querySelector(".discount-success").classList.remove("hidden");
			document.querySelector(".checkout-coupon-form").classList.add("hidden");
		}
		if(checkoutData.cart.localCart.state.lineItems.length < 1) {
			const elements = {
				totalValue: document.querySelector(".mobile-order-summary-box .checkout-total-value"),
				addonToggle: document.querySelector("#checkout-addon-toggle"),
				plusText: document.querySelector(".plus-text"),
				couponField: document.querySelector(".input.checkout-coupon-field"),
				couponButton: document.querySelector(".checkout-coupon-button"),
				checkboxToggle: document.querySelector(".w-checkbox.checkout-addon-toggle")
			};

			elements.totalValue.style.display = "none";
			elements.addonToggle.checked = false;
			elements.plusText.style.display = "none";
			elements.couponField.disabled = true;
			elements.couponButton.style.pointerEvents = "none";
			elements.checkboxToggle.style.pointerEvents = "none";
			elements.addonToggle.disabled = true;
			elements.addonToggle.style.cursor = "not-allowed";

			setTimeout(() => {
				document.querySelector(".checkout-cart-display").innerHTML = newTitleCheckoutBox;
				document.querySelector(".mobile-checkout-cart-display").innerHTML = newTitleCheckoutBox;
			}, 1400);
		}

		// Shipping ayarları
		document.querySelectorAll(".shipping-options label").forEach(label => {
			label.style.pointerEvents = "auto";
			console.log("Worked")
		});

		sessionStorage.setItem('flow', 'v2');

		document.addEventListener('DOMContentLoaded', () => {
			document.querySelectorAll(".shipping-line .checkout-money").forEach((element) => {
				element.innerHTML = "FREE";
			})
			sessionStorage.setItem("ship-type", "FREE");
		});

		const checkoutHench = {
			setCheckedShipment() {
				document.querySelectorAll(".shipping-option").forEach(option => {
					console.log("Worked")
					if (option.checked) {
						const shippingLine = option.dataset.shippingLine;
						document.querySelectorAll(".shipping-line .checkout-money").forEach((element) => {
							element.innerHTML = shippingLine;
						})
						sessionStorage.setItem("ship-type", shippingLine);
					}
				});
			},

			setShipmentOptions() {
				document.querySelectorAll('.shipping-option').forEach(option => {
					option.addEventListener('click', function(event) {
						const sendingQuantity = document.querySelector(".quantity-input").value;
						
						document.querySelectorAll(".shipping-options label").forEach(label => {
							label.style.pointerEvents = "none";
						});

						if (this.checked) {
							document.querySelectorAll('.shipping-option').forEach(opt => {
								if (opt !== event.target) {
									opt.checked = false;
									opt.removeAttribute("checked");
								} else {
									opt.setAttribute("checked", "checked");
								}
							});

							const shippingLine = this.dataset.shippingLine;
							setTimeout(() => {
								document.querySelectorAll(".shipping-line .checkout-money").forEach((element) => {
									element.innerHTML = shippingLine;
								})
							}, 1400);

							if (shippingLine === "PREMIUM PLUS") {
								RTC.setVariantQuantities({ 42768329736342: 1 }).then(() => {
									document.querySelectorAll(".shipping-line .checkout-money").forEach((element) => {
										element.innerHTML = shippingLine;
									})
								});
							}

							if (shippingLine === "FREE") {
								RTC.setVariantQuantities({ 42768329736342: 0 }).then(() => {
									document.querySelectorAll(".shipping-line .checkout-money").forEach((element) => {
										element.innerHTML = "FREE";
									})
								});
							}
						}

						document.querySelectorAll(".shipping-option").forEach(opt => {
							if (opt.checked) {
								const shippingLine = opt.dataset.shippingLine;
								document.querySelectorAll(".shipping-line .checkout-money").forEach((element) => {
									element.innerHTML = shippingLine;
								})
								sessionStorage.setItem("ship-type", shippingLine);
							}
						});

						setTimeout(() => {
							if (checkoutData.cart.shippingZone !== "US") {
								const moneyElements = document.querySelectorAll('.total-line .checkout-money, .checkout-total-value');
								moneyElements.forEach(el => {
									el.innerHTML = `<span class='non-usa'>USD </span>${el.innerHTML}`;
								});
							}
							insertQuantityInput(sendingQuantity);
							document.querySelectorAll(".shipping-options label").forEach(label => {
								label.style.pointerEvents = "auto";
							});
						}, 1800);
					});
				});
			}
		};

		// USD gösterimi
		if (checkoutData.cart.shippingZone !== "US") {
			document.querySelectorAll('.total-line .checkout-money, .checkout-total-value').forEach(el => {
				el.innerHTML = `<span class='non-usa'>USD </span>${el.innerHTML}`;
			});
		}

		const newTitleCheckoutBox = `
			<div class="after-checkout">
				<img class="cart-icon" src="/comforter/checkout/images-new-branding/cart_icon.svg">
				<h3 class="heading">Your cart is empty</h3>
				<p style="margin-top: 23px;">
					Don't miss out! <br>
					Our <span>FREE 3pc Towel</span> deal ends soon.
				</p>
				<a class="cta-button" href="/comforter/cooling-comforter/?resetCookie=true&utm_source=empty_cart">
					SHOP NOW
				</a>    
			</div>
		`;

		if(checkoutData.cart.localCart.state.lineItems.length < 1) {
			const elements = {
				cartDisplay: document.querySelector(".summary"),
				mobileCartDisplay: document.querySelector(".mobile-order-summary-box"),
				mobileTotal: document.querySelector(".mobile-order-summary-box .checkout-total-value"),
				addonToggle: document.querySelector("#checkout-addon-toggle"),
				plusText: document.querySelector(".plus-text"),
				couponField: document.querySelector(".input.checkout-coupon-field"),
				couponButton: document.querySelector(".checkout-coupon-button"),
				checkboxToggle: document.querySelector(".w-checkbox.checkout-addon-toggle")
			};

			elements.cartDisplay.innerHTML = newTitleCheckoutBox;
			elements.mobileCartDisplay.innerHTML = newTitleCheckoutBox;
			elements.mobileTotal.style.display = "none";
			elements.addonToggle.checked = false;
			elements.plusText.style.display = "none";
			elements.couponField.disabled = true;
			elements.couponButton.style.pointerEvents = "none";
			elements.checkboxToggle.style.pointerEvents = "none";
			elements.addonToggle.disabled = true;
			elements.addonToggle.style.cursor = "not-allowed";
		}

		// Variant arrays
		const allVariants = [
			"42789291491478",
			"42789291524246",
			"42789291557014",
			"42789291589782",
			"42790125994134",
			"42790126026902",
			"42790126059670",
			"42790126092438",
			"42723134898326",
			"42723134963862",
			"39544429248662",
			"39544429281430",
			"43864804753558",
			"43864804786326",
			"43864804819094",
			"43864804851862",
			"43882022404246",
			"43882022469782",
			"43882022437014",
			"43882022502550",
			"44132769038486",
			"44132768972950",
			"44132769071254",
			"44132769005718",
			"43882022469782",
			"43882022404246",
			"43882022404246",
			"43882022437014",
			"43864804819094",
			"43864804753558",
			"43864804851862",
			"43864804786326",
			"43882022502550"
		];

		const towels = [
			"42508804784278",
			"42508804751510",
			"42508804817046",
			"43954293899414", // New Outsmartly Towels
			"43954293932182", // New Outsmartly Towels
			"43954294030486", // New Outsmartly Towels
		];

		const matchingVariant = checkoutData.cart.localCart.state.lineItems.find(variant => 
			allVariants.includes(variant.variantId.toString())
		);

		const cart = Object.keys(RTC.getVariantQuantities());
		const hasTowel = towels.some(variant => cart.includes(variant));
		const foundedTowel = towels.find(variant => cart.includes(variant));
		
		let findWarranty = checkoutData.cart.localCart.state.lineItems.find(variant => 
			variant.variantId === 42536178319510
		);
		let customerQuantity = matchingVariant.quantity;
		console.log("Customer Quantity : ", customerQuantity);
		let newVariant = matchingVariant.variantId;
		let activeProductName = matchingVariant.title;
		let productQuantity;

		function insertQuantityInput(currentQuantity, type) {
			const findWarranty = checkoutData.cart.localCart.state.lineItems.find(variant => 
				variant.variantId === 42536178319510
			);
			
			if (type === 'remove') {
				currentQuantity = checkoutData.cart.localCart.state.lineItems.find(variant => 
					variant.variantId !== 42536178319510
				).quantity;
			}

			const templateStrings = {
				input: `
					<div class="increment-button">
						<div class="flex-quantity decrement quantity-changer">-</div>
						<input class="quantity-input" type="number" min="0" value="${currentQuantity}">
						<div class="flex-quantity increment quantity-changer">+</div>
					</div>
				`,
				removeWarranty: `
					<a href="#" class="checkout-remove-item checkout-remove-warranty">
						<span class="remove-text">Remove</span>
						<img src="/comforter/checkout/images-new-branding/remove-icon.svg" alt="remove icon" class="remove-icon" />
					</a>
				`,
				removeProduct: `
					<a href="#" class="checkout-remove-item checkout-remove-product">
						<span class="remove-text">Remove</span>
						<img src="/comforter/checkout/images-new-branding/remove-icon.svg" alt="remove icon" class="remove-icon" />
					</a>
				`
			};

		
			const incrementButtons = document.querySelectorAll('.increment-button');
			const containers = [
				document.querySelector('.summary .checkout-cart-display'),
				document.querySelector('.mobile-order-summary-box .checkout-cart-display')
			];

			containers.forEach(container => {
				if (container) {
					const productImg = container.querySelector(`img[alt="${activeProductName}"]`);
					
					if (!incrementButtons.length && productImg) {
						productImg.closest("td")?.insertAdjacentHTML('beforeend', templateStrings.input);
					}

					const productParent = productImg?.parentElement?.parentElement;
					if (productParent) {
						productParent.insertAdjacentHTML('beforeend', templateStrings.removeProduct);
						productParent.style.display = "grid";
					}

					if(findWarranty) {
						const warrantyCell = Array.from(container.querySelectorAll('td'))
							.find(el => el?.textContent?.includes(findWarranty.title));
							
						if (warrantyCell?.parentElement) {
							warrantyCell.parentElement.insertAdjacentHTML('beforeend', templateStrings.removeWarranty);
							warrantyCell.parentElement.style.display = "grid";
						}
					}
				}
			});
		}

		// Event Listeners
		setTimeout(() => {
			insertQuantityInput(customerQuantity);
		},1800)
		console.log("Worked")

		function updateCart(newVariant, quantity, type) {
			const data = {
				[newVariant]: quantity
			};
			
			RTC.setVariantQuantities(data).then(() => {
				insertQuantityInput(quantity, type);
				checkoutHench.setCheckedShipment();
				
				if (checkoutData.cart.shippingZone !== "US") {
					setTimeout(() => {
						document.querySelectorAll('.total-line .checkout-money, .checkout-total-value')
							.forEach(el => {
								if (!el.innerHTML.includes("USD")) {
									el.innerHTML = `<span class='non-usa'>USD </span>${el.innerHTML}`;
								}
							});
					}, 1600);
				}
			});
		}

		function handleEmptyCart() {
			const elements = {
				cartDisplay: document.querySelector(".summary"),
				mobileCartDisplay: document.querySelector(".mobile-order-summary-box"),
				mobileTotal: document.querySelector(".mobile-order-summary-box .checkout-total-value"),
				addonToggle: document.querySelector("#checkout-addon-toggle"),
				plusText: document.querySelector(".plus-text"),
				couponField: document.querySelector(".input.checkout-coupon-field"),
				couponButton: document.querySelector(".checkout-coupon-button"),
				checkboxToggle: document.querySelector(".w-checkbox.checkout-addon-toggle"),
				discountBox: document.querySelector(".discount-box")
			};

			elements.cartDisplay.innerHTML = newTitleCheckoutBox;
			elements.mobileCartDisplay.innerHTML = newTitleCheckoutBox;
			elements.mobileTotal.style.display = "none";
			elements.addonToggle.checked = false;
			elements.plusText.style.display = "none";
			elements.couponField.disabled = true;
			elements.couponButton.style.pointerEvents = "none";
			elements.checkboxToggle.style.pointerEvents = "none";
			elements.addonToggle.disabled = true;
			elements.addonToggle.style.cursor = "not-allowed";
			elements.discountBox.style.display = "none";
		}

		document.addEventListener('click', function(e) {
			// Quantity changer
			if (e.target.classList.contains('quantity-changer')) {
				productQuantity = document.querySelector(".quantity-input").value;
				
				if (e.target.classList.contains("decrement")) {
					productQuantity = parseInt(productQuantity) - 1;
				} else {
					productQuantity = parseInt(productQuantity) + 1;
				}

				if (productQuantity < 1) {
					updateCart(findWarranty.variantId, 0, 'remove');
					setTimeout(handleEmptyCart, 2400);
					return;
				}

				document.querySelector('.quantity-input').value = productQuantity;
				
				if(hasTowel) {
					updateCart(newVariant, productQuantity);
					setTimeout(() => updateCart(foundedTowel, productQuantity), 800);
				} else {
					updateCart(newVariant, productQuantity);
				}
			}

			// Remove warranty
			if (e.target.closest('.checkout-remove-warranty')) {
				e.preventDefault();
				document.querySelector('#checkout-addon-toggle').checked = false;
				updateCart(findWarranty.variantId, 0, 'remove');
			}

			// Remove product
			if (e.target.closest('.checkout-remove-product')) {
				e.preventDefault();
				
				const removeButtonData = {
					landingPageName: checkout.cart.landingPageName,
					checkoutPageName: 'mb-sheets-checkout-comforter',
					url: window.location.origin + window.location.pathname,
					variantId: newVariant.toString()
				};
				
				// mixpanel.track("RemoveButton Clicked", removeButtonData);
				
				document.querySelector('#checkout-addon-toggle').checked = false;
				updateCart(newVariant, 0, 'remove');

				if(hasTowel) {
					setTimeout(() => updateCart(foundedTowel, 0, 'remove'), 800);
				}

				if(findWarranty) {
					setTimeout(() => updateCart(findWarranty.variantId, 0, 'remove'), 1600);
				}

				setTimeout(handleEmptyCart, 3000);
			}
		});

		// Input change handlers
		document.querySelector('.quantity-input')?.addEventListener('change', function() {
			updateCart(newVariant, this.value);
		});

		// Addon toggle handler
		document.querySelector('#checkout-addon-toggle')?.addEventListener('change', function() {
			setTimeout(() => {
				insertQuantityInput(1, 'remove');
				if (checkoutData.cart.shippingZone !== "US") {
					document.querySelectorAll('.total-line .checkout-money, .checkout-total-value')
						.forEach(el => {
							el.innerHTML = `<span class='non-usa'>USD </span>${el.innerHTML}`;
						});
				}
				checkoutHench.setCheckedShipment()
			}, 2400);
		});

		// Coupon handlers
		document.querySelector('.checkout-coupon-button')?.addEventListener('click', function(e) {
			const sendingQuantity = document.querySelector(".quantity-input").value;
			const couponName = document.querySelector('#coupon_desktop_field').value.toLowerCase();

			setTimeout(() => {
				if (!checkoutData.cart.localCart.state.discountTotal > 0) {
					document.querySelector(".discount-warning").style.display = "block";
					document.querySelector(".discount-success").classList.add("hidden");
				} else {
					document.querySelector(".discount-success").classList.remove("hidden");
					document.querySelector(".discount-warning").style.display = "none";
				}
				insertQuantityInput(sendingQuantity);
				checkoutHench.setCheckedShipment();
			}, 1800);
		});

		document.querySelector('.checkout-coupon-field')?.addEventListener('keypress', function(e) {
			if (e.key === 'Enter') {
				e.preventDefault();
				const sendingQuantity = document.querySelector(".quantity-input").value;
				const couponName = this.value.toLowerCase();

				setTimeout(() => {
					if (!checkoutData.cart.localCart.state.discountTotal > 0) {
						document.querySelector(".discount-warning").style.display = "block";
						document.querySelector(".discount-success").classList.add("hidden");
					} else {
						document.querySelector(".discount-success").classList.remove("hidden");
						document.querySelector(".discount-warning").style.display = "none";
					}
					insertQuantityInput(sendingQuantity);
					checkoutHench.setCheckedShipment();
				}, 1800);
			}
		});

		if (checkoutData.cart.shippingZone === "CA") {
			document.querySelector(".checkout-note")?.classList.remove("hidden");
		}

		
		checkoutHench.setShipmentOptions();
		// Shipping country handlers
		const shippingInput = document.querySelector("#shipping_country");

		document.querySelector('input').addEventListener('change', function() {
			const checkedOption = document.querySelector(".shipping-option:checked");
			const shippingLine = checkedOption?.dataset.shippingLine;
			
			setTimeout(() => {
				insertQuantityInput(productQuantity);
				updateShippingMoney(shippingLine);
			}, 2400);
		});

		shippingInput?.addEventListener("change", function(e) {
			const checkoutNote = document.querySelector(".checkout-note");
			if (this.value !== "CA") {
				checkoutNote?.classList.add("hidden");
			} else {
				checkoutNote?.classList.remove("hidden");
			}

			setTimeout(() => {
				insertQuantityInput(productQuantity);
			}, 2400);
		});
	});
	</script>
	<script type="text/javascript" async src="https://try.miraclebrand.co/pixel_v2.js"></script>
</body>

</html>