!function(e){e.fn.floatLabels=function(t){var a=this;e.extend({},t);var r={initialize:function(){a.each(function(){var t=e(this),a=t.children("label"),r=t.find("input,textarea").first();t.children().first().is("label")&&(t.children().first().remove(),t.append(a));var n=r.attr("placeholder")&&r.attr("placeholder")!=a.text()?r.attr("placeholder"):a.text();a.data("placeholder-text",n),a.data("original-text",a.text()),""==r.val()&&r.addClass("empty")})},swapLabels:function(t){var a=e(t),r=e(t).siblings("label").first();Boolean(a.val())?(a.removeClass("empty"),r.text(r.data("original-text"))):(a.addClass("empty"),r.text(r.data("placeholder-text")))}};return a.on("input keyup change","input, textarea",function(){r.swapLabels(this)}),r.initialize(),a.each(function(){r.swapLabels(e(this).find("input,textarea").first())}),this},e(function(){e(".float-label-control").floatLabels()})}(jQuery);var maxInstallmentsLabel="",ccDiscountCodeApplied=!1,valid_card=!1;function doneTyping(){var e={email:jQuery("#email").val(),name:jQuery("#full-name").val(),phoneNumber:jQuery("#phone-number").val(),cpf:jQuery("#ficalNumber").val(),cep:jQuery("#zip-code").val(),number:jQuery("#number").val()},t=getShopifyProducts(),a={subtotal:jQuery("#checkoutForm").attr("data-cart-currency-symbol")+""+jQuery(".checkoutTotalPrice").val(),totalPrice:"1000"};if(t&&e.email&&e.email.match(/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-]))+\.([a-zA-Z0-9]{2,4})+$/)&&t.length){var r=localStorage.getItem("abandoned_token")?localStorage.getItem("abandoned_token"):"";jQuery.ajax({method:"post",url:app_base_url+"/abandoned",data:{customer:e,products:t,cart:a,shop:"scalio2.myshopify.com",token:r,email:e.email,phoneNumber:e.phoneNumber},success:function(e){var t=JSON.parse(e),a=(sessionStorage.setItem("token",t.token),localStorage.getItem("abandoned_token"));null!=a&&null!=a&&""!=a||makeCheckoutStarted(t.token),localStorage.setItem("abandoned_token",t.token)}})}}function validarCPF(e){if(jQuery("#ficalNumber").parent().removeClass("success_input"),""==(e=e.replace(/[^\d]+/g,"")))return jQuery("#ficalNumber").parent().addClass("error_input"),!1;if(11!=e.length||"00000000000"==e||"11111111111"==e||"22222222222"==e||"33333333333"==e||"44444444444"==e||"55555555555"==e||"66666666666"==e||"77777777777"==e||"88888888888"==e||"99999999999"==e)return jQuery("#ficalNumber").parent().addClass("error_input"),!1;for(add=0,i=0;i<9;i++)add+=parseInt(e.charAt(i))*(10-i);if(rev=11-add%11,10!=rev&&11!=rev||(rev=0),rev!=parseInt(e.charAt(9)))return jQuery("#ficalNumber").parent().addClass("error_input"),!1;for(add=0,i=0;i<10;i++)add+=parseInt(e.charAt(i))*(11-i);if(rev=11-add%11,10!=rev&&11!=rev||(rev=0),rev!=parseInt(e.charAt(10)))return jQuery("#ficalNumber").parent().addClass("error_input"),!1;jQuery("#ficalNumber").parent().removeClass("error_input").addClass("success_input")}function validarCPF1(e){if(jQuery("#ficalNumber").parent().removeClass("success_input"),"00000000000"==(e=e.replace(/[^\d]+/g,""))||"11111111111"==e||"22222222222"==e||"33333333333"==e||"44444444444"==e||"55555555555"==e||"66666666666"==e||"77777777777"==e||"88888888888"==e||"99999999999"==e)return jQuery("#ficalNumber").parent().addClass("error_input"),!1;for(add=0,i=0;i<9;i++)add+=parseInt(e.charAt(i))*(10-i);for(rev=11-add%11,10!=rev&&11!=rev||(rev=0),add=0,i=0;i<10;i++)add+=parseInt(e.charAt(i))*(11-i);rev=11-add%11,10!=rev&&11!=rev||(rev=0),rev!=parseInt(e.charAt(10))||jQuery("#ficalNumber").parent().removeClass("error_input").addClass("success_input")}function getShopifyProducts(){}function getLocationDetails(){var e=jQuery("#zip-code").val();e&&e.length>=9?(jQuery("#cep-input .loader").show(),clearInputs(),jQuery.ajax({method:"GET",url:"https://viacep.com.br/ws/"+e+"/json/",success:function(e){jQuery("#cep-input .loader").fadeOut(100),e&&e.uf?(jQuery('[name="city"]').attr("required",!0),jQuery('[name="state"]').attr("required",!0),jQuery('[name="number"]').attr("required",!0),jQuery('[name="address"]').attr("required",!0),jQuery('[name="neighborhood"]').attr("required",!0),jQuery(".hide-inputs").css("display","flex"),jQuery(".section-shipping-method").css("display","flex"),jQuery(".section-shipping-method").css("flex-direction","column"),jQuery("#address").removeClass("empty").val(e.logradouro),jQuery("#neighborhood").removeClass("empty").val(e.bairro),jQuery("#city").removeClass("empty").val(e.localidade),jQuery("#state").removeClass("empty").val(e.uf).selectric("refresh")):jQuery(".cep-input-error").html('<span style="color:blue;">Verifique o CEP informado ou <b class="show-manaul-inputs">clique aqui para digitar seu endereço manualmente.</b></span>'),jQuery(".get_shipping_rates").trigger("click")},error:function(e,t,a){jQuery("#cep-input .loader").fadeOut(100),jQuery(".cep-input-error").html('<span style="color:blue;">Verifique o CEP informado ou <b class="show-manaul-inputs">clique aqui para digitar seu endereço manualmente.</b></span>')}})):(jQuery('[name="city"]').removeAttr("required"),jQuery('[name="state"]').removeAttr("required"),jQuery('[name="number"]').removeAttr("required"),jQuery('[name="address"]').removeAttr("required"),jQuery('[name="neighborhood"]').removeAttr("required"),clearInputs())}function clearInputs(){jQuery("#address, #neighborhood, #compartment, #city").val("").addClass("empty"),jQuery("#state").val("").selectric("refresh").addClass("empty"),jQuery(".hide-inputs").hide().addClass("empty"),jQuery(".section-shipping-method").hide().addClass("empty"),jQuery(".cep-input-error").text("").addClass("empty")}function captchaHandling(e=!1){var t=sessionStorage.getItem("captchaCount")?parseInt(sessionStorage.getItem("captchaCount")):0;e&&(t+=1,sessionStorage.setItem("captchaCount",t)),t>=4?($(".show-captcha").show(),$(".captcha-count").val(t)):t<4&&$(".show-captcha").hide()}jQuery(document).ready(function(){var e=window.location.href;if(-1!==e.indexOf("thankyou/")||-1!==e.indexOf("offer/"));else{var t=getUrlParameter();window.history.pushState("","","/checkout"+t)}localStorage.removeItem("freeShipping");var a,r,n,o,i,s={scope:{},findInternal:function(e,t,a){e instanceof String&&(e=String(e));for(var r=e.length,n=0;n<r;n++){var o=e[n];if(t.call(a,o,n,e))return{i:n,v:o}}return{i:-1,v:void 0}}};if(s.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,a){if(a.get||a.set)throw new TypeError("ES3 does not support getters and setters.");e!=Array.prototype&&e!=Object.prototype&&(e[t]=a.value)},s.getGlobal=function(e){return"undefined"!=typeof window&&window===e?e:"undefined"!=typeof global&&null!=global?global:e},s.global=s.getGlobal(this),s.polyfill=function(e,t,a,r){if(t){for(a=s.global,e=e.split("."),r=0;r<e.length-1;r++){var n=e[r];n in a||(a[n]={}),a=a[n]}(t=t(r=a[e=e[e.length-1]]))!=r&&null!=t&&s.defineProperty(a,e,{configurable:!0,writable:!0,value:t})}},s.polyfill("Array.prototype.find",function(e){return e||function(e,t){return s.findInternal(this,e,t).v}},"es6-impl","es3"),a=function(e){var t=function(t,a,r){var n={invalid:[],getCaret:function(){try{var e,a=0,r=t.get(0),o=document.selection,i=r.selectionStart;return o&&-1===navigator.appVersion.indexOf("MSIE 10")?((e=o.createRange()).moveStart("character",-n.val().length),a=e.text.length):(i||"0"===i)&&(a=i),a}catch(e){}},setCaret:function(e){try{if(t.is(":focus")){var a,r=t.get(0);r.setSelectionRange?r.setSelectionRange(e,e):((a=r.createTextRange()).collapse(!0),a.moveEnd("character",e),a.moveStart("character",e),a.select())}}catch(e){}},events:function(){t.on("keydown.mask",function(e){t.data("mask-keycode",e.keyCode||e.which),t.data("mask-previus-value",t.val()),t.data("mask-previus-caret-pos",n.getCaret()),n.maskDigitPosMapOld=n.maskDigitPosMap}).on(e.jMaskGlobals.useInput?"input.mask":"keyup.mask",n.behaviour).on("paste.mask drop.mask",function(){setTimeout(function(){t.keydown().keyup()},100)}).on("change.mask",function(){t.data("changed",!0)}).on("blur.mask",function(){s===n.val()||t.data("changed")||t.trigger("change"),t.data("changed",!1)}).on("blur.mask",function(){s=n.val()}).on("focus.mask",function(t){!0===r.selectOnFocus&&e(t.target).select()}).on("focusout.mask",function(){r.clearIfNotMatch&&!o.test(n.val())&&n.val("")})},getRegexMask:function(){for(var e,t,r,n,o=[],s=0;s<a.length;s++)(e=i.translation[a.charAt(s)])?(t=e.pattern.toString().replace(/.{1}$|^.{1}/g,""),r=e.optional,(e=e.recursive)?(o.push(a.charAt(s)),n={digit:a.charAt(s),pattern:t}):o.push(r||e?t+"?":t)):o.push(a.charAt(s).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"));return o=o.join(""),n&&(o=o.replace(new RegExp("("+n.digit+"(.*"+n.digit+")?)"),"($1)?").replace(new RegExp(n.digit,"g"),n.pattern)),new RegExp(o)},destroyEvents:function(){t.off("input keydown keyup paste drop blur focusout ".split(" ").join(".mask "))},val:function(e){var a=t.is("input")?"val":"text";return 0<arguments.length?(t[a]()!==e&&t[a](e),a=t):a=t[a](),a},calculateCaretPosition:function(){var e=t.data("mask-previus-value")||"",a=n.getMasked(),r=n.getCaret();if(e!==a){var o,i=t.data("mask-previus-caret-pos")||0,s=(a=a.length,e.length),l=e=0,u=0,c=0;for(o=r;o<a&&n.maskDigitPosMap[o];o++)l++;for(o=r-1;0<=o&&n.maskDigitPosMap[o];o--)e++;for(o=r-1;0<=o;o--)n.maskDigitPosMap[o]&&u++;for(o=i-1;0<=o;o--)n.maskDigitPosMapOld[o]&&c++;r>s?r=10*a:i>=r&&i!==s?n.maskDigitPosMapOld[r]||(i=r,r=r-(c-u)-e,n.maskDigitPosMap[r]&&(r=i)):r>i&&(r=r+(u-c)+l)}return r},behaviour:function(a){a=a||window.event,n.invalid=[];var r=t.data("mask-keycode");if(-1===e.inArray(r,i.byPassKeys)){r=n.getMasked();var o=n.getCaret();return setTimeout(function(){n.setCaret(n.calculateCaretPosition())},e.jMaskGlobals.keyStrokeCompensation),n.val(r),n.setCaret(o),n.callbacks(a)}},getMasked:function(e,t){var o,s,l,u=[],c=void 0===t?n.val():t+"",d=0,p=a.length,m=0,y=c.length,h=1,f="push",v=-1,g=0,j=[];for(r.reverse?(f="unshift",h=-1,o=0,d=p-1,m=y-1,s=function(){return-1<d&&-1<m}):(o=p-1,s=function(){return d<p&&m<y});s();){var _=a.charAt(d),Q=c.charAt(m),b=i.translation[_];b?(Q.match(b.pattern)?(u[f](Q),b.recursive&&(-1===v?v=d:d===o&&d!==v&&(d=v-h),o===v&&(d-=h)),d+=h):Q===l?(g--,l=void 0):b.optional?(d+=h,m-=h):b.fallback?(u[f](b.fallback),d+=h,m-=h):n.invalid.push({p:m,v:Q,e:b.pattern}),m+=h):(e||u[f](_),Q===_?(j.push(m),m+=h):(l=_,j.push(m+g),g++),d+=h)}return c=a.charAt(o),p!==y+1||i.translation[c]||u.push(c),u=u.join(""),n.mapMaskdigitPositions(u,j,y),u},mapMaskdigitPositions:function(e,t,a){for(e=r.reverse?e.length-a:0,n.maskDigitPosMap={},a=0;a<t.length;a++)n.maskDigitPosMap[t[a]+e]=1},callbacks:function(e){var o=n.val(),i=o!==s,l=[o,e,t,r],u=function(e,t,a){"function"==typeof r[e]&&t&&r[e].apply(this,a)};u("onChange",!0===i,l),u("onKeyPress",!0===i,l),u("onComplete",o.length===a.length,l),u("onInvalid",0<n.invalid.length,[o,e,t,n.invalid,r])}};t=e(t);var o,i=this,s=n.val();a="function"==typeof a?a(n.val(),void 0,t,r):a,i.mask=a,i.options=r,i.remove=function(){var e=n.getCaret();return i.options.placeholder&&t.removeAttr("placeholder"),t.data("mask-maxlength")&&t.removeAttr("maxlength"),n.destroyEvents(),n.val(i.getCleanVal()),n.setCaret(e),t},i.getCleanVal=function(){return n.getMasked(!0)},i.getMaskedVal=function(e){return n.getMasked(!1,e)},i.init=function(s){if(s=s||!1,r=r||{},i.clearIfNotMatch=e.jMaskGlobals.clearIfNotMatch,i.byPassKeys=e.jMaskGlobals.byPassKeys,i.translation=e.extend({},e.jMaskGlobals.translation,r.translation),i=e.extend(!0,{},i,r),o=n.getRegexMask(),s)n.events(),n.val(n.getMasked());else{r.placeholder&&t.attr("placeholder",r.placeholder),t.data("mask")&&t.attr("autocomplete","off"),s=0;for(var l=!0;s<a.length;s++){var u=i.translation[a.charAt(s)];if(u&&u.recursive){l=!1;break}}l&&t.attr("maxlength",a.length).data("mask-maxlength",!0),n.destroyEvents(),n.events(),s=n.getCaret(),n.val(n.getMasked()),n.setCaret(s)}},i.init(!t.is("input"))};e.maskWatchers={};var a=function(){var a=e(this),n={},o=a.attr("data-mask");if(a.attr("data-mask-reverse")&&(n.reverse=!0),a.attr("data-mask-clearifnotmatch")&&(n.clearIfNotMatch=!0),"true"===a.attr("data-mask-selectonfocus")&&(n.selectOnFocus=!0),r(a,o,n))return a.data("mask",new t(this,o,n))},r=function(t,a,r){r=r||{};var n=e(t).data("mask"),o=JSON.stringify;t=e(t).val()||e(t).text();try{return"function"==typeof a&&(a=a(t)),"object"!=typeof n||o(n.options)!==o(r)||n.mask!==a}catch(e){}},n=function(e){var t,a=document.createElement("div");return(t=(e="on"+e)in a)||(a.setAttribute(e,"return;"),t="function"==typeof a[e]),t};e.fn.mask=function(a,n){n=n||{};var o=this.selector,i=(s=e.jMaskGlobals).watchInterval,s=n.watchInputs||s.watchInputs,l=function(){if(r(this,a,n))return e(this).data("mask",new t(this,a,n))};return e(this).each(l),o&&""!==o&&s&&(clearInterval(e.maskWatchers[o]),e.maskWatchers[o]=setInterval(function(){e(document).find(o).each(l)},i)),this},e.fn.masked=function(e){return this.data("mask").getMaskedVal(e)},e.fn.unmask=function(){return clearInterval(e.maskWatchers[this.selector]),delete e.maskWatchers[this.selector],this.each(function(){var t=e(this).data("mask");t&&t.remove().removeData("mask")})},e.fn.cleanVal=function(){return this.data("mask").getCleanVal()},e.applyDataMask=function(t){((t=t||e.jMaskGlobals.maskElements)instanceof e?t:e(t)).filter(e.jMaskGlobals.dataMaskAttr).each(a)},n={maskElements:"input,td,span,div",dataMaskAttr:"*[data-mask]",dataMask:!0,watchInterval:300,watchInputs:!0,keyStrokeCompensation:10,useInput:!/Chrome\/[2-4][0-9]|SamsungBrowser/.test(window.navigator.userAgent)&&n("input"),watchDataMask:!1,byPassKeys:[9,16,17,18,36,37,38,39,40,91],translation:{0:{pattern:/\d/},9:{pattern:/\d/,optional:!0},"#":{pattern:/\d/,recursive:!0},A:{pattern:/[a-zA-Z0-9]/},S:{pattern:/[a-zA-Z]/}}},e.jMaskGlobals=e.jMaskGlobals||{},(n=e.jMaskGlobals=e.extend(!0,{},n,e.jMaskGlobals)).dataMask&&e.applyDataMask(),setInterval(function(){e.jMaskGlobals.watchDataMask&&e.applyDataMask()},n.watchInterval)},r=window.jQuery,n=window.Zepto,"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof exports?module.exports=a(require("jquery")):a(r||n),o=function(e){"use strict";var t=e(document),a=e(window),r=["a","e","i","o","u","n","c","y"],n=[/[\xE0-\xE5]/g,/[\xE8-\xEB]/g,/[\xEC-\xEF]/g,/[\xF2-\xF6]/g,/[\xF9-\xFC]/g,/[\xF1]/g,/[\xE7]/g,/[\xFD-\xFF]/g],o=function(t,a){var r=this;r.element=t,r.$element=e(t),r.state={multiple:!!r.$element.attr("multiple"),enabled:!1,opened:!1,currValue:-1,selectedIdx:-1,highlightedIdx:-1},r.eventTriggers={open:r.open,close:r.close,destroy:r.destroy,refresh:r.refresh,init:r.init},r.init(a)};o.prototype={utils:{isMobile:function(){return/android|ip(hone|od|ad)/i.test(navigator.userAgent)},escapeRegExp:function(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},replaceDiacritics:function(e){for(var t=n.length;t--;)e=e.toLowerCase().replace(n[t],r[t]);return e},format:function(e){var t=arguments;return(""+e).replace(/\{(?:(\d+)|(\w+))\}/g,function(e,a,r){return r&&t[1]?t[1][r]:t[a]})},nextEnabledItem:function(e,t){for(;e[t=(t+1)%e.length].disabled;);return t},previousEnabledItem:function(e,t){for(;e[t=(t>0?t:e.length)-1].disabled;);return t},toDash:function(e){return e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()},triggerCallback:function(t,a){var r=a.element,n=a.options["on"+t],o=[r].concat([].slice.call(arguments).slice(1));e.isFunction(n)&&n.apply(r,o),e(r).trigger("selectric-"+this.toDash(t),o)},arrayToClassname:function(t){var a=e.grep(t,function(e){return!!e});return e.trim(a.join(" "))}},init:function(t){var a=this;if(a.options=e.extend(!0,{},e.fn.selectric.defaults,a.options,t),a.utils.triggerCallback("BeforeInit",a),a.destroy(!0),a.options.disableOnMobile&&a.utils.isMobile())a.disableOnMobile=!0;else{a.classes=a.getClassNames();var r=e("<input/>",{class:a.classes.input,readonly:a.utils.isMobile()}),n=e("<div/>",{class:a.classes.items,tabindex:-1}),o=e("<div/>",{class:a.classes.scroll}),i=e("<div/>",{class:a.classes.prefix,html:a.options.arrowButtonMarkup}),s=e("<span/>",{class:"label"}),l=a.$element.wrap("<div/>").parent().append(i.prepend(s),n,r),u=e("<div/>",{class:a.classes.hideselect});a.elements={input:r,items:n,itemsScroll:o,wrapper:i,label:s,outerWrapper:l},a.options.nativeOnMobile&&a.utils.isMobile()&&(a.elements.input=void 0,u.addClass(a.classes.prefix+"-is-native"),a.$element.on("change",function(){a.refresh()})),a.$element.on(a.eventTriggers).wrap(u),a.originalTabindex=a.$element.prop("tabindex"),a.$element.prop("tabindex",-1),a.populate(),a.activate(),a.utils.triggerCallback("Init",a)}},activate:function(){var e=this,t=e.elements.items.closest(":visible").children(":hidden").addClass(e.classes.tempshow),a=e.$element.width();t.removeClass(e.classes.tempshow),e.utils.triggerCallback("BeforeActivate",e),e.elements.outerWrapper.prop("class",e.utils.arrayToClassname([e.classes.wrapper,e.$element.prop("class").replace(/\S+/g,e.classes.prefix+"-$&"),e.options.responsive?e.classes.responsive:""])),e.options.inheritOriginalWidth&&a>0&&e.elements.outerWrapper.width(a),e.unbindEvents(),e.$element.prop("disabled")?(e.elements.outerWrapper.addClass(e.classes.disabled),e.elements.input&&e.elements.input.prop("disabled",!0)):(e.state.enabled=!0,e.elements.outerWrapper.removeClass(e.classes.disabled),e.$li=e.elements.items.removeAttr("style").find("li"),e.bindEvents()),e.utils.triggerCallback("Activate",e)},getClassNames:function(){var t=this,a=t.options.customClass,r={};return e.each("Input Items Open Disabled TempShow HideSelect Wrapper Focus Hover Responsive Above Below Scroll Group GroupLabel".split(" "),function(e,n){var o=a.prefix+n;r[n.toLowerCase()]=a.camelCase?o:t.utils.toDash(o)}),r.prefix=a.prefix,r},setLabel:function(){var t=this,a=t.options.labelBuilder;if(t.state.multiple){var r=e.isArray(t.state.currValue)?t.state.currValue:[t.state.currValue];r=0===r.length?[0]:r;var n=e.map(r,function(a){return e.grep(t.lookupItems,function(e){return e.index===a})[0]});n=e.grep(n,function(t){return n.length>1||0===n.length?""!==e.trim(t.value):t}),n=e.map(n,function(r){return e.isFunction(a)?a(r):t.utils.format(a,r)}),t.options.multiple.maxLabelEntries&&(n.length>=t.options.multiple.maxLabelEntries+1?(n=n.slice(0,t.options.multiple.maxLabelEntries)).push(e.isFunction(a)?a({text:"..."}):t.utils.format(a,{text:"..."})):n.slice(n.length-1)),t.elements.label.html(n.join(t.options.multiple.separator))}else{var o=t.lookupItems[t.state.currValue];t.elements.label.html(e.isFunction(a)?a(o):t.utils.format(a,o))}},populate:function(){var t=this,a=t.$element.children(),r=t.$element.find("option"),n=r.filter(":selected"),o=r.index(n),i=0,s=t.state.multiple?[]:0;n.length>1&&t.state.multiple&&(o=[],n.each(function(){o.push(e(this).index())})),t.state.currValue=~o?o:s,t.state.selectedIdx=t.state.currValue,t.state.highlightedIdx=t.state.currValue,t.items=[],t.lookupItems=[],a.length&&(a.each(function(a){var r=e(this);if(r.is("optgroup")){var n={element:r,label:r.prop("label"),groupDisabled:r.prop("disabled"),items:[]};r.children().each(function(a){var r=e(this);n.items[a]=t.getItemData(i,r,n.groupDisabled||r.prop("disabled")),t.lookupItems[i]=n.items[a],i++}),t.items[a]=n}else t.items[a]=t.getItemData(i,r,r.prop("disabled")),t.lookupItems[i]=t.items[a],i++}),t.setLabel(),t.elements.items.append(t.elements.itemsScroll.html(t.getItemsMarkup(t.items))))},getItemData:function(t,a,r){return{index:t,element:a,value:a.val(),className:a.prop("class"),text:a.html(),slug:e.trim(this.utils.replaceDiacritics(a.html())),alt:a.attr("data-alt"),selected:a.prop("selected"),disabled:r}},getItemsMarkup:function(t){var a=this,r="<ul>";return e.isFunction(a.options.listBuilder)&&a.options.listBuilder&&(t=a.options.listBuilder(t)),e.each(t,function(t,n){void 0!==n.label?(r+=a.utils.format('<ul class="{1}"><li class="{2}">{3}</li>',a.utils.arrayToClassname([a.classes.group,n.groupDisabled?"disabled":"",n.element.prop("class")]),a.classes.grouplabel,n.element.prop("label")),e.each(n.items,function(e,t){r+=a.getItemMarkup(t.index,t)}),r+="</ul>"):r+=a.getItemMarkup(n.index,n)}),r+"</ul>"},getItemMarkup:function(t,a){var r=this,n=r.options.optionsItemBuilder,o={value:a.value,text:a.text,slug:a.slug,index:a.index};return r.utils.format('<li data-index="{1}" class="{2}">{3}</li>',t,r.utils.arrayToClassname([a.className,t===r.items.length-1?"last":"",a.disabled?"disabled":"",a.selected?"selected":""]),e.isFunction(n)?r.utils.format(n(a,this.$element,t),a):r.utils.format(n,o))},unbindEvents:function(){var e=this;e.elements.wrapper.add(e.$element).add(e.elements.outerWrapper).add(e.elements.input).off(".sl")},bindEvents:function(){var t=this;t.elements.outerWrapper.on("mouseenter.sl mouseleave.sl",function(a){e(this).toggleClass(t.classes.hover,"mouseenter"===a.type),t.options.openOnHover&&(clearTimeout(t.closeTimer),"mouseleave"===a.type?t.closeTimer=setTimeout(e.proxy(t.close,t),t.options.hoverIntentTimeout):t.open())}),t.elements.wrapper.on("click.sl",function(e){t.state.opened?t.close():t.open(e)}),t.options.nativeOnMobile&&t.utils.isMobile()||(t.$element.on("focus.sl",function(){t.elements.input.focus()}),t.elements.input.prop({tabindex:t.originalTabindex,disabled:!1}).on("keydown.sl",e.proxy(t.handleKeys,t)).on("focusin.sl",function(e){t.elements.outerWrapper.addClass(t.classes.focus),t.elements.input.one("blur",function(){t.elements.input.blur()}),t.options.openOnFocus&&!t.state.opened&&t.open(e)}).on("focusout.sl",function(){t.elements.outerWrapper.removeClass(t.classes.focus)}).on("input propertychange",function(){var a=t.elements.input.val(),r=new RegExp("^"+t.utils.escapeRegExp(a),"i");clearTimeout(t.resetStr),t.resetStr=setTimeout(function(){t.elements.input.val("")},t.options.keySearchTimeout),a.length&&e.each(t.items,function(e,a){if(!a.disabled){if(r.test(a.text)||r.test(a.slug))return void t.highlight(e);if(a.alt)for(var n=a.alt.split("|"),o=0;o<n.length&&n[o];o++)if(r.test(n[o].trim()))return void t.highlight(e)}})})),t.$li.on({mousedown:function(e){e.preventDefault(),e.stopPropagation()},click:function(){return t.select(e(this).data("index")),!1}})},handleKeys:function(t){var a=this,r=t.which,n=a.options.keys,o=e.inArray(r,n.previous)>-1,i=e.inArray(r,n.next)>-1,s=e.inArray(r,n.select)>-1,l=e.inArray(r,n.open)>-1,u=a.state.highlightedIdx,c=o&&0===u||i&&u+1===a.items.length,d=0;if(13!==r&&32!==r||t.preventDefault(),o||i){if(!a.options.allowWrap&&c)return;o&&(d=a.utils.previousEnabledItem(a.lookupItems,u)),i&&(d=a.utils.nextEnabledItem(a.lookupItems,u)),a.highlight(d)}if(s&&a.state.opened)return a.select(u),void(a.state.multiple&&a.options.multiple.keepMenuOpen||a.close());l&&!a.state.opened&&a.open()},refresh:function(){var e=this;e.populate(),e.activate(),e.utils.triggerCallback("Refresh",e)},setOptionsDimensions:function(){var e=this,t=e.elements.items.closest(":visible").children(":hidden").addClass(e.classes.tempshow),a=e.options.maxHeight,r=e.elements.items.outerWidth(),n=e.elements.wrapper.outerWidth()-(r-e.elements.items.width());!e.options.expandToItemText||n>r?e.finalWidth=n:(e.elements.items.css("overflow","scroll"),e.elements.outerWrapper.width(9e4),e.finalWidth=e.elements.items.width(),e.elements.items.css("overflow",""),e.elements.outerWrapper.width("")),e.elements.items.width(e.finalWidth).height()>a&&e.elements.items.height(a),t.removeClass(e.classes.tempshow)},isInViewport:function(){var e=this;if(!0===e.options.forceRenderAbove)e.elements.outerWrapper.addClass(e.classes.above);else if(!0===e.options.forceRenderBelow)e.elements.outerWrapper.addClass(e.classes.below);else{var t=a.scrollTop(),r=a.height(),n=e.elements.outerWrapper.offset().top,o=n+e.elements.outerWrapper.outerHeight()+e.itemsHeight<=t+r,i=n-e.itemsHeight>t,s=!o&&i,l=!s;e.elements.outerWrapper.toggleClass(e.classes.above,s),e.elements.outerWrapper.toggleClass(e.classes.below,l)}},detectItemVisibility:function(t){var a=this,r=a.$li.filter("[data-index]");a.state.multiple&&(t=e.isArray(t)&&0===t.length?0:t,t=e.isArray(t)?Math.min.apply(Math,t):t);var n=r.eq(t).outerHeight(),o=r[t].offsetTop,i=a.elements.itemsScroll.scrollTop(),s=o+2*n;a.elements.itemsScroll.scrollTop(s>i+a.itemsHeight?s-a.itemsHeight:o-n<i?o-n:i)},open:function(a){var r=this;if(r.options.nativeOnMobile&&r.utils.isMobile())return!1;r.utils.triggerCallback("BeforeOpen",r),a&&(a.preventDefault(),r.options.stopPropagation&&a.stopPropagation()),r.state.enabled&&(r.setOptionsDimensions(),e("."+r.classes.hideselect,"."+r.classes.open).children().selectric("close"),r.state.opened=!0,r.itemsHeight=r.elements.items.outerHeight(),r.itemsInnerHeight=r.elements.items.height(),r.elements.outerWrapper.addClass(r.classes.open),r.elements.input.val(""),a&&"focusin"!==a.type&&r.elements.input.focus(),setTimeout(function(){t.on("click.sl",e.proxy(r.close,r)).on("scroll.sl",e.proxy(r.isInViewport,r))},1),r.isInViewport(),r.options.preventWindowScroll&&t.on("mousewheel.sl DOMMouseScroll.sl","."+r.classes.scroll,function(t){var a=t.originalEvent,n=e(this).scrollTop(),o=0;"detail"in a&&(o=-1*a.detail),"wheelDelta"in a&&(o=a.wheelDelta),"wheelDeltaY"in a&&(o=a.wheelDeltaY),"deltaY"in a&&(o=-1*a.deltaY),(n===this.scrollHeight-r.itemsInnerHeight&&o<0||0===n&&o>0)&&t.preventDefault()}),r.detectItemVisibility(r.state.selectedIdx),r.highlight(r.state.multiple?-1:r.state.selectedIdx),r.utils.triggerCallback("Open",r))},close:function(){var e=this;e.utils.triggerCallback("BeforeClose",e),t.off(".sl"),e.elements.outerWrapper.removeClass(e.classes.open),e.state.opened=!1,e.utils.triggerCallback("Close",e)},change:function(){var t=this;t.utils.triggerCallback("BeforeChange",t),t.state.multiple?(e.each(t.lookupItems,function(e){t.lookupItems[e].selected=!1,t.$element.find("option").prop("selected",!1)}),e.each(t.state.selectedIdx,function(e,a){t.lookupItems[a].selected=!0,t.$element.find("option").eq(a).prop("selected",!0)}),t.state.currValue=t.state.selectedIdx,t.setLabel(),t.utils.triggerCallback("Change",t)):t.state.currValue!==t.state.selectedIdx&&(t.$element.prop("selectedIndex",t.state.currValue=t.state.selectedIdx).data("value",t.lookupItems[t.state.selectedIdx].text),t.setLabel(),t.utils.triggerCallback("Change",t))},highlight:function(e){var t=this,a=t.$li.filter("[data-index]").removeClass("highlighted");t.utils.triggerCallback("BeforeHighlight",t),void 0===e||-1===e||t.lookupItems[e].disabled||(a.eq(t.state.highlightedIdx=e).addClass("highlighted"),t.detectItemVisibility(e),t.utils.triggerCallback("Highlight",t))},select:function(t){var a=this,r=a.$li.filter("[data-index]");if(a.utils.triggerCallback("BeforeSelect",a,t),void 0!==t&&-1!==t&&!a.lookupItems[t].disabled){if(a.state.multiple){a.state.selectedIdx=e.isArray(a.state.selectedIdx)?a.state.selectedIdx:[a.state.selectedIdx];var n=e.inArray(t,a.state.selectedIdx);-1!==n?a.state.selectedIdx.splice(n,1):a.state.selectedIdx.push(t),r.removeClass("selected").filter(function(t){return-1!==e.inArray(t,a.state.selectedIdx)}).addClass("selected")}else r.removeClass("selected").eq(a.state.selectedIdx=t).addClass("selected");a.state.multiple&&a.options.multiple.keepMenuOpen||a.close(),a.change(),a.utils.triggerCallback("Select",a,t)}},destroy:function(e){var t=this;t.state&&t.state.enabled&&(t.elements.items.add(t.elements.wrapper).add(t.elements.input).remove(),e||t.$element.removeData("selectric").removeData("value"),t.$element.prop("tabindex",t.originalTabindex).off(".sl").off(t.eventTriggers).unwrap().unwrap(),t.state.enabled=!1)}},e.fn.selectric=function(t){return this.each(function(){var a=e.data(this,"selectric");a&&!a.disableOnMobile?"string"==typeof t&&a[t]?a[t]():a.init(t):e.data(this,"selectric",new o(this,t))})},e.fn.selectric.defaults={onChange:function(t){e(t).change()},maxHeight:300,keySearchTimeout:500,arrowButtonMarkup:'<b class="button">&#x25be;</b>',disableOnMobile:!1,nativeOnMobile:!0,openOnFocus:!0,openOnHover:!1,hoverIntentTimeout:500,expandToItemText:!1,responsive:!1,preventWindowScroll:!0,inheritOriginalWidth:!1,allowWrap:!0,forceRenderAbove:!1,forceRenderBelow:!1,stopPropagation:!0,optionsItemBuilder:"{text}",labelBuilder:"{text}",listBuilder:!1,keys:{previous:[37,38],next:[39,40],select:[9,13,27],open:[13,32,37,38,39,40],close:[9,27]},customClass:{prefix:"selectric",camelCase:!1},multiple:{separator:", ",keepMenuOpen:!0,maxLabelEntries:!1}}},"function"==typeof define&&define.amd?define(["jquery"],o):"object"==typeof module&&module.exports?module.exports=function(e,t){return void 0===t&&(t="undefined"!=typeof window?require("jquery"):require("jquery")(e)),o(t),t}:o(jQuery),jQuery("#cardNumber").length>0){var l=$("#cardNumber");l.keyup(function(){if($.payform.validateCardNumber(l.val()))return valid_card=!0,applyCCDiscountCode(1),ccDiscountCodeApplied=!0,jQuery(this).parent().addClass("success_input").removeClass("error_input"),$(".card-error").html(""),!1;applyCCDiscountCode(0),ccDiscountCodeApplied=!1,jQuery(this).parent().addClass("error_input").removeClass("success_input"),19==jQuery("#cardNumber").val().length?$(".card-error").html('<span class="check-inputs-error">Informações digitadas de cartão de crédito estão erradas. Favor verificar e corrigir.</span>'):$(".card-error").html(""),valid_card=!1})}jQuery(".show-summery").click(function(){jQuery(".check-out-right.on-mobile").is(":hidden")?(jQuery(".check-out-right.on-mobile").slideDown(),jQuery(this).removeClass("active")):(jQuery(".check-out-right.on-mobile").slideUp(),jQuery(this).addClass("active"))}),jQuery("#ficalNumber").length&&jQuery("#ficalNumber").mask("000.000.000-00"),jQuery("#zip-code").length&&jQuery("#zip-code").mask("00000-000"),jQuery("#cardNumber").length&&jQuery("#cardNumber").mask("0000 0000 0000 0000"),jQuery("#phone-number").length&&jQuery("#phone-number").mask("(00) 00000-0000"),jQuery("#cardExpiryDate").length&&jQuery("#cardExpiryDate").mask("00/00"),jQuery("#securityCode").length&&jQuery("#securityCode").mask("0000"),jQuery("#installments").length&&jQuery("#installments").selectric("destroy"),jQuery("#state").length&&jQuery("#state").selectric({maxHeight:200}),jQuery("#email").keyup(function(){var e=jQuery(this).val();/^([a-zA-Z0-9_\.\-\+])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(e)&&(jQuery(".email-name-error").show(),jQuery(".email-name-error").text(""),jQuery(this).parent().addClass("success_input").removeClass("error_input"))}),jQuery("#email").focusout(function(){var e=jQuery(this).val();/^([a-zA-Z0-9_\.\-\+])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(e)?(jQuery(".email-name-error").show(),jQuery(".email-name-error").text(""),jQuery(this).parent().addClass("success_input").removeClass("error_input")):(jQuery(".email-name-error").text("O email inserido é inválido"),jQuery(".email-name-error").hide(),jQuery(this).parent().addClass("error_input").removeClass("success_input"))}),jQuery("#phone-number").keyup(function(){jQuery("#phone-number").val().length<14||jQuery("#phone-number").parent().removeClass("error_input")}),jQuery("#phone-number").focusout(function(){jQuery("#phone-number").val().length<14?jQuery("#phone-number").parent().addClass("error_input"):jQuery("#phone-number").parent().removeClass("error_input")}),jQuery("#full-name").keyup(function(){var e=jQuery(this).val();/[\W\w]+\s+[\w\W]+/.test(e)&&(jQuery(".full-name-error").show(),jQuery(".full-name-error").text(""),jQuery(this).parent().addClass("success_input").removeClass("error_input"))}),jQuery("#full-name").focusout(function(){var e=jQuery(this).val();/[\W\w]+\s+[\w\W]+/.test(e)?(jQuery(".full-name-error").show(),jQuery(".full-name-error").text(""),jQuery(this).parent().addClass("success_input").removeClass("error_input")):(jQuery(".full-name-error").text("Você deve digitar seu nome completo"),jQuery(".full-name-error").hide(),jQuery(this).parent().addClass("error_input").removeClass("success_input"))}),jQuery("#ficalNumber").keyup(function(){validarCPF1(jQuery(this).val())}),jQuery("#ficalNumber").focusout(function(){validarCPF(jQuery(this).val())});var u=jQuery("#email, #full-name, #phone-number, #ficalNumber, #cep-input, #number");u.on("keyup paste",function(){clearTimeout(i),i=setTimeout(doneTyping,1e3)}),u.on("keydown",function(){clearTimeout(i)}),jQuery("#zip-code").on("keyup paste",function(){getLocationDetails()}),jQuery(document).on("click",".show-manaul-inputs",function(){jQuery(".hide-inputs").css("display","flex"),jQuery(".cep-input-error").html(""),jQuery(".get_shipping_rates").trigger("click")}),jQuery(".panel-heading, .panel-heading a").on("click",function(e){jQuery(this).parents(".panel").children(".panel-collapse").hasClass("show")&&(e.preventDefault(),e.stopPropagation())}),jQuery(".prdcts_list > .row").length<=2&&jQuery(".removeItems").remove(),$(document).on("click",".btn-number",function(e){e.preventDefault(),jQuery(".product-list-loader").show(),fieldName=$(this).attr("data-field"),type=$(this).attr("data-type"),variant_id=$(this).attr("data-variant");var t=$(this).data("item_id"),a=$(this).parent().parent().find("input[name='"+fieldName+"']"),r=parseInt(a.val());isNaN(r)?(jQuery(".product-list-loader, .product-loading").hide(),a.val(0)):"minus"==type?(r>a.attr("min")?(a.val(r-1).change(),updateCheckoutCart(variant_id,r-1,t)):jQuery(".product-list-loader, .product-loading").hide(),parseInt(a.val()),a.attr("min"),jQuery(".get_shipping_rates").trigger("click")):"plus"==type&&(r<a.attr("max")||null==a.attr("max")?(a.val(r+1).change(),updateCheckoutCart(variant_id,r+1,t)):jQuery(".product-list-loader, .product-loading").hide(),parseInt(a.val()),a.attr("max"),jQuery(".get_shipping_rates").trigger("click"))}),jQuery(document).on("click",".removeItems a",function(){var e=jQuery(this),t=e.data("id"),a=e.data("item_id");jQuery(".product-list-loader").show(),updateCheckoutCart(t,0,a)}),jQuery(document).on("click",".order-bump-removed a",function(){let e=jQuery(this).data("order_bump_id");jQuery("#order-check-"+e).prop("checked",!1),jQuery("#order-bump-blocker-"+e).css("display","none")});var c=!1,d=jQuery(".funkyradio").clone();$(".get_shipping_rates").click(function(){c&&c.abort();jQuery("#checkoutForm").attr("data-cart-currency-symbol");jQuery(document).find(".shippingErrorMessage").remove();var e=$("#state").val(),t=$("#zip-code").val(),a=$("#country").val(),r="",n=!1;""!=e&&null!=e||(n=!0,r+="Estado"),""!=t&&null!=t||(n=!0,r+=""!=r&&null!=r?", CEP":" CEP"),""!=a&&null!=a||(n=!0,r+=""!=r&&null!=r?", País":" País"),r+=" necessário para envio",0==n?c=jQuery.ajax({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},method:"post",url:app_base_url+"/shipping_rates",dataType:"JSON",data:{zip:t,country:a,shipping_state:e},success:function(e){if("false"==e.error){var t=e.shipping_rates;if(jQuery(t).length>=0){var a="",r=jQuery(t).length,n="";1==r&&(n='checked="checked"'),jQuery.each(jQuery(t),function(e,t){var r=t.name;shipping_rate_name=r.replace(/\"/g,""),shipping_rate_name_org=r.replace(/\"/g,"&quot;"),a+='<div class="funkyradio col-md-12">\n                                                            <div class="funkyradio-default">\n                                                                <input type="radio" name="shippingMethods" data-source="'+t.source+'" data-nvalue="'+shipping_rate_name+'" data-price="'+t.price+'" id="radio'+e+'" value="'+shipping_rate_name_org+'" '+n+'/>\n                                                                <label for="radio'+e+'">'+t.name+'<span class="pull-right">'+t.currency+" "+addCommas(t.price)+"</span></label>\n                                                            </div>\n                                                        </div>",n=""}),jQuery(".shipping_rates_option_div").html(a),jQuery("input[name=shippingMethods]:checked").trigger("change")}else jQuery(".shipping_rates_option_div").html(d),jQuery(".shipping_rates_div").append("<p class='errorMessage shippingErrorMessage'>taxas de envio nÃ£o encontradas</p>")}else jQuery(".shipping_rates_option_div").html(d),jQuery(".shipping_rates_div").append("<p class='errorMessage shippingErrorMessage'>"+e.message+"</p>")},error:function(e,t,a){}}):jQuery(".shipping_rates_div").append("<p class='errorMessage shippingErrorMessage'>"+r+"</p>")}),jQuery(document).on("change","input[name=shippingMethods]",function(){var e=jQuery(this).data("nvalue"),t=0,a=jQuery("#checkoutForm").attr("data-cart-currency-symbol"),r=$("#state").val(),n=$("#zip-code").val(),o=$("#country").val();"melhorenvio"!=jQuery(this).data("source")?jQuery("input[name=melhor_envio_service]").val(jQuery(this).data("source")):jQuery("input[name=melhor_envio_service]").val(0),jQuery.ajax({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},method:"post",url:app_base_url+"/shipping_rates",dataType:"JSON",data:{zip:n,country:o,shipping_state:r},success:function(r){if("false"==r.error){var n=r.shipping_rates;jQuery(n).length>=0&&jQuery.each(jQuery(n),function(r,n){var o=n.name;if((o=o.replace(/\"/g,""))==e){t=parseFloat(n.price).toFixed(2),$(".totalShippingPriceText").text(a+" "+addCommas(t)),$(".totalShippingPrice").val(""),$(".totalShippingPrice").val(t),$(".totalShippingPrice").attr("value",t);var i=0;"true"==localStorage.getItem("freeShipping")&&(i=parseFloat(t).toFixed(2),jQuery("[name=totalDiscount]").val(parseFloat(t).toFixed(2)),jQuery(".DiscountPriceText").text(a+" "+addCommas(i))),applyCoupon();var s=0;jQuery('input[name="addCCDiscountPrice"]').length>0&&(s=jQuery('input[name="addCCDiscountPrice"]').val()),subTotal=$.trim($(".checkoutSubTotalPrice").val()),totalCheckoutPrice=(parseFloat(subTotal)+parseFloat(t)-parseFloat(s)-parseFloat(i)).toFixed(2),$(".checkoutTotal span").text(""),$(".checkoutTotal span").text(a+addCommas(totalCheckoutPrice)),$(".checkoutTotalPrice").val(""),$(".checkoutTotalPrice").val(totalCheckoutPrice),$(".checkoutTotalPrice").attr("value",totalCheckoutPrice),jQuery("#cardNumber").trigger("focusout"),setInstallmentInfo()}})}},error:function(e,t,a){}})}),jQuery("#installments").on("selectric-change",function(e){var t=jQuery(this).val();""!=t&&null!=t?jQuery(this).addClass("notempty"):jQuery(this).removeClass("notempty"),jQuery(this).selectric("refresh")}),jQuery(".panel-heading, .panel-heading a").on("click",function(e){if($(this).parents(".panel").children(".panel-collapse").hasClass("show"))return e.preventDefault(),void e.stopPropagation();cc_discount_per&&(jQuery("input[name='cardNumber']").is(":visible")?(ccDiscountCodeApplied=!1,applyCCDiscountCode(0)):jQuery("input[name='ebanking']").is(":visible")?(ccDiscountCodeApplied=!0,applyCCDiscountCode(1)):(ccDiscountCodeApplied=!1,applyCCDiscountCode(0)))}),$("#btn-download-boleto").click(function(){var e=$(this).attr("data-lib2")+"?boletourl="+$(this).attr("data-url2");window.open(e)}),jQuery("#state").change(function(){$(".get_shipping_rates").trigger("click")}),jQuery("#city").focusout(function(){$("#state").trigger("change"),$(".get_shipping_rates").trigger("click")})}),mp_active&&(document.addEventListener("DOMContentLoaded",function(){function e(){var e=document.querySelector("input[name=cardNumber]").value.replace(/[ .-]/g,"").slice(0,6);Mercadopago.getPaymentMethod({bin:e},t)}function t(e,t){if(200==e){const e=document.querySelector("input[name=paymentMethodId]");if(e)e.value=t[0].id;else{const e=document.createElement("input");e.setattribute("name","paymentMethodId"),e.setAttribute("type","hidden"),e.setAttribute("value",t[0].id),form.appendChild(e)}}else alert("Por favor, preencha os detalhes corretos."),jQuery("#complete-payment").show(),jQuery("#loader-button").hide()}function a(e,t){process_payment(e,t,"CC")}mp_public_key&&(Mercadopago.setPublishableKey(mp_public_key),Mercadopago.getIdentificationTypes()),doSubmit=!1,document.getElementById("checkoutForm").addEventListener("submit",function(t){t.preventDefault();var r=jQuery("#checkoutForm").find(".error_input").text();if(jQuery("#phone-number").parent().removeClass("error_input"),jQuery("#email").parent().removeClass("error_input"),r.length>0){r.replace(/ /g,"");return jQuery(".email-name-error, .full-name-error").show(),alert("Ops! Você digitou alguma coisa errada. Verifique suas informações novamente (CPF, E-mail, Telefone)"),void $("html,body").animate({scrollTop:$(".check-inputs-error").offset().top},200,function(){})}jQuery("#complete-payment").hide(),jQuery("#loader-button").show();localStorage.getItem("abandoned_token");if(jQuery("#ficalNumber").length){var n=jQuery("#ficalNumber").val();if(void 0!==n&&""!=n&&null!=n){var o=n.replace(".","");void 0!==(o=(o=o.replace(".","")).replace("-",""))&&""!=o&&null!=o&&jQuery("#docNumber").length&&(jQuery("#docNumber").attr("value",o),jQuery("#docNumber").val(o))}}if(jQuery("input[name='cardNumber']").is(":visible"))if("appmax"==cc_active)process_appmax_payment(200,"","CC");else if("cartxpayments"==cc_active)process_gateway_payment(200,"","CC");else if("ebanx"==cc_active)createEbanxToken();else{if(jQuery("#cardExpiryDate").length){var i=jQuery("#cardExpiryDate").val();if(void 0!==i&&""!=i&&null!=i){var s=i.split("/");void 0!==s&&""!=s&&null!=s&&2==s.length&&(jQuery("#cardExpirationMonth").length&&(jQuery("#cardExpirationMonth").attr("value",s[0]),jQuery("#cardExpirationMonth").val(s[0])),jQuery("#cardExpirationYear").length&&(jQuery("#cardExpirationYear").attr("value","20"+s[1]),jQuery("#cardExpirationYear").val("20"+s[1])))}}if(e(),"undefined"!=typeof grecaptcha){var l=grecaptcha.getResponse();if(0==l.length&&sessionStorage.getItem("captchaCount")>=4)return alert("Por favor, preencha captcha"),jQuery("#complete-payment").show(),jQuery("#loader-button").hide(),void jQuery("#loading").hide()}if(!doSubmit){var u=document.querySelector("#checkoutForm");return Mercadopago.createToken(u,a),captchaHandling(),!1}}else jQuery("input[name='ebanking']").is(":visible")?"appmax"==boleto_active?process_appmax_payment(200,"","appmax_boleto"):"cartxpayments"==boleto_active?process_gateway_payment(200,"","cartxpayments_boleto"):"ebanx"==boleto_active?process_ebanx_payment(200,"","ebanx_boleto"):process_payment(200,"","boleto"):console.log("paypal")})}),jQuery(document).ready(function(){jQuery("#cardNumber").focusout(function(){var e=$(this).val(),t=$(".checkoutTotalPrice").val();if(void 0!==e&&"null"!=e&&null!=e&&1==valid_card){var a=(e=e.replace(" ","")).substring(0,6);void 0!==a&&"null"!=a&&null!=a&&6==a.length&&Mercadopago.getInstallments({bin:a,amount:parseFloat(t)},setInstallmentInfo)}}),setInstallmentInfo()})),jQuery(window).on("load",function(){jQuery("#docType option").length&&($("#docType option:eq(0)").attr("selected","selected"),$("#docType option:eq(0)").prop("selected",!0)),setTimeout(function(){jQuery(".prdcts_list > .row").length>=2?jQuery(".product-loading").hide():jQuery(".product-loading").show()},100);var e=window.location.href;jQuery(".total-price-loader").hide(),-1!==e.indexOf("thankyou")||-1!==e.indexOf("offer/")||(jQuery(".checkoutTotal, .checkoutTotal2").hide(),jQuery(".total-price-loader").show(),create_product_listing(),cc_discount_per&&jQuery("input[name='cardNumber']").is(":visible")&&(ccDiscountCodeApplied=!0))});maxInstallmentsLabel="";function parseReal(e){return parseFloat(e).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}function calculateMaxInstallment(){let e=$(".checkoutTotalPrice").val(),t=0,a=0;for(var r=1;r<=12;r++){var n=0;switch(r){case 1:n=payments_fees_1x;break;case 2:n=payments_fees_2x;break;case 3:n=payments_fees_3x;break;case 4:n=payments_fees_4x;break;case 5:n=payments_fees_5x;break;case 6:n=payments_fees_6x;break;case 7:n=payments_fees_7x;break;case 8:n=payments_fees_8x;break;case 9:n=payments_fees_9x;break;case 10:n=payments_fees_10x;break;case 11:n=payments_fees_11x;break;case 12:n=payments_fees_12x}(a=parseFloat(e)*(1+parseFloat(n)/100))/r>5&&(t=r)}return t}function showFullPriceLabel(){jQuery("#cardNumber").parent().addClass("success_input").removeClass("error_input"),jQuery(".checkoutTotal span, .checkoutTotal2 span").find(".text-muted").remove(),jQuery(".prices_row.total-price .checkoutTotal span, .checkoutTotal2 span").append(maxInstallmentsLabel),jQuery(".total-price-loader").hide(),jQuery(".checkoutTotal2, .prdct-price-installment").hide(),jQuery(".checkoutTotal, .prdct-price").show()}function showActualPriceLabel(){jQuery(".total-price-loader").hide(),checkout_installments>1?(jQuery(".checkoutTotal, .prdct-price").hide(),jQuery(".checkoutTotal2, .prdct-price-installment").show()):(jQuery(".checkoutTotal, .prdct-price").show(),jQuery(".checkoutTotal2, .prdct-price-installment").hide())}function changePriceLabel(e){jQuery(".total-price-loader").hide(),jQuery("input[name='ebanking']").is(":visible")?(jQuery(".checkoutTotal, .prdct-price").show(),jQuery(".checkoutTotal2, .prdct-price-installment").hide()):(""!=e?(jQuery(".checkoutTotal").hide(),jQuery(".checkoutTotal2").show(),jQuery("#cardNumber").parent().addClass("success_input").removeClass("error_input"),jQuery(".checkoutTotal2 span").show(),jQuery(".checkoutTotal2 span").text(e)):(jQuery(".checkoutTotal").show(),jQuery(".checkoutTotal2").hide()),checkout_installments>1?(jQuery(".prdct-price").hide(),jQuery(".prdct-price-installment").show()):(jQuery(".prdct-price").show(),jQuery(".prdct-price-installment").hide())),jQuery(".checkoutTotal span, .checkoutTotal2 span").find(".text-muted").remove(),jQuery(".prices_row.total-price .checkoutTotal span, .checkoutTotal2 span").append(maxInstallmentsLabel)}function checkCCFields(){return""!=$("input[name=cardNumber]").val()&&""!=$("input[name=cardholderName]").val()&&""!=$("input[name=cardExpiryDate]").val()&&""!=$("input[name=securityCode]").val()}function process_gateway_payment(e,t,a){jQuery(".white-overlay1").show();var r=jQuery("#checkoutForm").find(".error_input").text();if(jQuery("#phone-number").parent().removeClass("error_input"),jQuery("#email").parent().removeClass("error_input"),r.length>0){r.replace(/ /g,"");return alert("Ops! Você digitou alguma coisa errada. Verifique suas informações novamente (CPF, E-mail, Telefone)"),void $("html,body").animate({scrollTop:$(".error_input").offset().top},200,function(){})}if("CC"==a&&!checkCCFields())return alert("Ops! Você não digitou algum campo do cartão de crédito. Verifique suas informações do cartão de crédito novamente."),jQuery("#complete-payment").show(),jQuery("#loader-button").hide(),void jQuery(".white-overlay1").hide();if(jQuery("input[name=shippingMethods]:checked").length<=0)return alert("Selecione o método de entrega."),jQuery("#complete-payment").show(),jQuery("#loader-button").hide(),jQuery(".white-overlay1").hide(),!1;if(200!=e&&201!=e)alert("verificar dados preenchidos"),captchaHandling(error=!0),jQuery("#complete-payment").show(),jQuery("#loader-button").hide(),jQuery(".white-overlay1").hide();else{if(jQuery("#cardExpiryDate").length){var n=jQuery("#cardExpiryDate").val();if(void 0!==n&&""!=n&&null!=n){var o=n.split("/");void 0!==o&&""!=o&&null!=o&&2==o.length&&(jQuery("#cardExpirationMonth").length&&(jQuery("#cardExpirationMonth").attr("value",o[0]),jQuery("#cardExpirationMonth").val(o[0])),jQuery("#cardExpirationYear").length&&(jQuery("#cardExpirationYear").attr("value","20"+o[1]),jQuery("#cardExpirationYear").val("20"+o[1])))}}var i=document.querySelector("#checkoutForm"),s=document.createElement("input"),l=localStorage.getItem("abandoned_token"),u=localStorage.getItem("cart_token"),c=document.createElement("input");"CC"==a?(c.setAttribute("name","payment_token"),c.setAttribute("type","hidden"),c.setAttribute("value","cc payment")):(c.setAttribute("name","payment_token"),c.setAttribute("type","hidden"),c.setAttribute("value","eTicket")),i.appendChild(c),s.setAttribute("name","cart_token"),s.setAttribute("type","hidden"),s.setAttribute("value",u),i.appendChild(s);var d=new FormData(i),p=jQuery("#email").val(),m=i,y=app_base_url+"/gatewaypay";if(void 0!==p&&null!=p&&""!=p){jQuery("#checkoutForm").attr("data-cart-currency-symbol");jQuery('input[type="submit"]').prop("disabled",!0),jQuery(m).find('input[type="submit"]').addClass("formLoading"),jQuery(document).find(".successMessage").remove(),jQuery(document).find(".errorMessage").remove(),jQuery(document).find(".thank-you-div").slideUp(),d.append("abandoned_token",l),jQuery.ajax({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},type:"POST",dataType:"json",url:y,data:d,cache:!1,contentType:!1,processData:!1,success:function(e){if(jQuery('input[type="submit"]').prop("disabled",!1),jQuery(m).find('input[type="submit"]').removeClass("formLoading"),1==e.success){localStorage.removeItem("freeShipping");var t=getUrlParameter();if(""!=e.thankyouID){var a=e.cart_token;e.shop;void 0!==a&&null!=a?(req_data={},req_data.cart_token=a,$.ajax({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},type:"POST",url:"/cart/get",data:JSON.stringify(req_data),contentType:"application/json; charset=utf-8",traditional:!0,success:function(a){var r=window.relatedUpSells;void 0!==r&&r.length>0?$.each(r,function(a,r){var n=r.offers;$.each(n,function(a,n){return setTimeout(function(){jQuery(m)[0].reset();var a=app_base_url+"/offer/"+e.thankyouID+"/"+n.product_id+t;window.location.href=a},600),setCookie("odpi",r.page_id,1),setCookie("odp",n.product_id,1),setCookie("odt",n.discount_type,1),setCookie("odv",n.discount_value,1),localStorage.setItem("odt",Encrypt(n.discount_type)),localStorage.setItem("odv",Encrypt(n.discount_value.toString())),localStorage.setItem("odui",Encrypt(n.up_sell_id.toString())),localStorage.setItem("odpi",Encrypt(r.page_id.toString())),!1})}):setTimeout(function(){jQuery(m)[0].reset();var a=app_base_url+"/thankyou/"+e.thankyouID+t;window.location.href=a},600)},error:function(a){setTimeout(function(){jQuery(m)[0].reset();var a=app_base_url+"/thankyou/"+e.thankyouID+t;window.location.href=a},600)}})):setTimeout(function(){jQuery(m)[0].reset();var a=app_base_url+"/thankyou/"+e.thankyouID+t;window.location.href=a},600)}else jQuery(m)[0].reset(),jQuery(document).find(".check-out-form").slideUp(),jQuery(document).find(".thank-you-div").slideDown()}else doSubmit=!1,jQuery("#complete-payment").show(),jQuery("#loader-button").hide(),jQuery(".white-overlay1").hide(),jQuery(m).append("<p class='errorMessage'>"+e.message+"</p>"),""!=e.decline_message&&null!=e.decline_message&&alert(e.decline_message)},error:function(e){}})}else jQuery("#email").focus()}}function process_appmax_payment(e,t,a){jQuery(".white-overlay1").show();var r=jQuery("#checkoutForm").find(".error_input").text();if(jQuery("#phone-number").parent().removeClass("error_input"),jQuery("#email").parent().removeClass("error_input"),r.length>0){r.replace(/ /g,"");return alert("Ops! Você digitou alguma coisa errada. Verifique suas informações novamente (CPF, E-mail, Telefone)"),void $("html,body").animate({scrollTop:$(".error_input").offset().top},200,function(){})}if("CC"==a&&!checkCCFields())return alert("Ops! Você não digitou algum campo do cartão de crédito. Verifique suas informações do cartão de crédito novamente."),jQuery("#complete-payment").show(),jQuery("#loader-button").hide(),void jQuery(".white-overlay1").hide();if(jQuery("input[name=shippingMethods]:checked").length<=0)return alert("Selecione o método de entrega."),jQuery("#complete-payment").show(),jQuery("#loader-button").hide(),jQuery(".white-overlay1").hide(),!1;if(200!=e&&201!=e)alert("verificar dados preenchidos"),captchaHandling(error=!0),jQuery("#complete-payment").show(),jQuery("#loader-button").hide(),jQuery(".white-overlay1").hide();else{if(jQuery("#cardExpiryDate").length){var n=jQuery("#cardExpiryDate").val();if(void 0!==n&&""!=n&&null!=n){var o=n.split("/");void 0!==o&&""!=o&&null!=o&&2==o.length&&(jQuery("#cardExpirationMonth").length&&(jQuery("#cardExpirationMonth").attr("value",o[0]),jQuery("#cardExpirationMonth").val(o[0])),jQuery("#cardExpirationYear").length&&(jQuery("#cardExpirationYear").attr("value","20"+o[1]),jQuery("#cardExpirationYear").val("20"+o[1])))}}var i=document.querySelector("#checkoutForm"),s=document.createElement("input"),l=localStorage.getItem("abandoned_token"),u=localStorage.getItem("cart_token"),c=document.createElement("input");"CC"==a?(c.setAttribute("name","payment_token"),c.setAttribute("type","hidden"),c.setAttribute("value","cc payment")):(c.setAttribute("name","payment_token"),c.setAttribute("type","hidden"),c.setAttribute("value","eTicket")),i.appendChild(c),s.setAttribute("name","cart_token"),s.setAttribute("type","hidden"),s.setAttribute("value",u),i.appendChild(s);var d=new FormData(i),p=jQuery("#email").val(),m=i,y=app_base_url+"/gatewaypay";if(void 0!==p&&null!=p&&""!=p){jQuery("#checkoutForm").attr("data-cart-currency-symbol");jQuery('input[type="submit"]').prop("disabled",!0),jQuery(m).find('input[type="submit"]').addClass("formLoading"),jQuery(document).find(".successMessage").remove(),jQuery(document).find(".errorMessage").remove(),jQuery(document).find(".thank-you-div").slideUp(),d.append("abandoned_token",l),jQuery.ajax({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},type:"POST",dataType:"json",url:y,data:d,cache:!1,contentType:!1,processData:!1,success:function(e){if(jQuery('input[type="submit"]').prop("disabled",!1),jQuery(m).find('input[type="submit"]').removeClass("formLoading"),1==e.success){localStorage.removeItem("freeShipping");var t=getUrlParameter();""!=e.thankyouID?setTimeout(function(){jQuery(m)[0].reset();var a=app_base_url+"/thankyou/"+e.thankyouID+t;window.location.href=a},600):(jQuery(m)[0].reset(),jQuery(document).find(".check-out-form").slideUp(),jQuery(document).find(".thank-you-div").slideDown())}else doSubmit=!1,jQuery("#complete-payment").show(),jQuery("#loader-button").hide(),jQuery(".white-overlay1").hide(),jQuery(m).append("<p class='errorMessage'>"+e.message+"</p>"),""!=e.decline_message&&null!=e.decline_message&&alert(e.decline_message)},error:function(e){}})}else jQuery("#email").focus()}}function process_payment(e,t,a){jQuery(".white-overlay1").show();var r=jQuery("#checkoutForm").find(".error_input").text();if(jQuery("#phone-number").parent().removeClass("error_input"),jQuery("#email").parent().removeClass("error_input"),r.length>0){r.replace(/ /g,"");return alert("Ops! Você digitou alguma coisa errada. Verifique suas informações novamente (CPF, E-mail, Telefone)"),void $("html,body").animate({scrollTop:$(".check-inputs-error").offset().top},200,function(){})}if(jQuery("input[name=shippingMethods]:checked").length<=0)return alert("Selecione o método de entrega."),jQuery("#complete-payment").show(),jQuery("#loader-button").hide(),jQuery(".white-overlay1").hide(),!1;if(200!=e&&201!=e)return alert("verificar dados preenchidos"),captchaHandling(error=!0),jQuery("#complete-payment").show(),jQuery("#loader-button").hide(),jQuery(".white-overlay1").hide(),!1;var n=document.querySelector("#checkoutForm"),o=document.createElement("input"),i=document.createElement("input"),s=localStorage.getItem("abandoned_token"),l=localStorage.getItem("cart_token");"CC"==a?(o.setAttribute("name","payment_token"),o.setAttribute("type","hidden"),o.setAttribute("value",t.id)):(o.setAttribute("name","payment_token"),o.setAttribute("type","hidden"),o.setAttribute("value","eTicket")),i.setAttribute("name","cart_token"),i.setAttribute("type","hidden"),i.setAttribute("value",l),n.appendChild(o),n.appendChild(i),doSubmit=!0;var u=new FormData(n),c=jQuery("#email").val(),d=n;if(void 0!==c&&null!=c&&""!=c){var p=jQuery("#checkoutForm").attr("data-cart-currency-symbol");jQuery('input[type="submit"]').prop("disabled",!0),jQuery(d).find('input[type="submit"]').addClass("formLoading"),jQuery(document).find(".successMessage").remove(),jQuery(document).find(".errorMessage").remove(),jQuery(document).find(".thank-you-div").slideUp(),u.append("abandoned_token",s),u.append("discountCode",jQuery("[name=discountCode]").val()),jQuery.ajax({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},type:"POST",dataType:"json",url:app_base_url+"/payment",data:u,cache:!1,contentType:!1,processData:!1,success:function(e){if(jQuery('input[type="submit"]').prop("disabled",!1),jQuery(d).find('input[type="submit"]').removeClass("formLoading"),jQuery(".payment-status").text(e.payment_status),"pending"!=e.payment_actual_status&&"in_process"!=e.payment_actual_status||jQuery("<h4 class='successMessage_payment'>"+e.message+"</h4>").insertBefore(".thank-you-div > .content-box"),1==e.success){if(localStorage.removeItem("freeShipping"),jQuery(d).find('input[type="text"]').addClass("empty"),jQuery(d).find('input[type="tel"]').addClass("empty"),jQuery(d).find('input[type="email"]').addClass("empty"),jQuery("#installments").length&&(jQuery("#installments").selectric("destroy"),jQuery("#installments").find("option").each(function(){var e=jQuery(this).attr("value");void 0!==e&&""!=e&&null!=e&&jQuery(this).remove()}),jQuery("#installments").selectric({maxHeight:200})),jQuery.ajax({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},type:"POST",url:app_base_url+"/cart/clear",success:function(){},dataType:"json"}),void 0!==e.email&&""!=e.email&&null!=e.email&&(jQuery(".successEmail").text(""),jQuery(".successEmail").text(e.email)),void 0!==e.totalPrice&&""!=e.totalPrice&&null!=e.totalPrice&&(jQuery(".successTotalPrice").text(""),jQuery(".successTotalPrice").text(" - "+p+e.totalPrice)),void 0!==e.address&&""!=e.address&&null!=e.address&&(jQuery(".successAddress").html(""),jQuery(".successAddress").html("<address class='address'>"+e.address+"</address>")),void 0!==e.shippingMethods&&""!=e.shippingMethods&&null!=e.shippingMethods&&(jQuery(".successShippingMethods").text(""),jQuery(".successShippingMethods").html(e.shippingMethods)),void 0!==e.orderId&&""!=e.orderId&&null!=e.orderId&&(jQuery(".successOrderId").text(""),jQuery(".successOrderId").text(e.orderId)),jQuery(document).find(".form-control.prdct_qty").hide(),jQuery(document).find(".incremental-btn-wrap").attr("style","display: none !important"),jQuery("#carttimerfunction").hide(),countDownDate=(new Date).getTime(),void 0!==e.totalCartItems&&""!=e.totalCartItems&&null!=e.totalCartItems&&void 0!==e.cartProductIds&&""!=e.cartProductIds&&null!=e.cartProductIds){e.cartProductIds.indexOf(",")>=0?e.cartProductIds.split(","):e.cartProductIds}var t=getUrlParameter();if(""!=e.thankyouID){var a=e.cart_token;e.shop;void 0!==a&&null!=a?(req_data={},req_data.cart_token=a,$.ajax({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},type:"POST",url:"/cart/get",data:JSON.stringify(req_data),contentType:"application/json; charset=utf-8",traditional:!0,success:function(a){var r=window.relatedUpSells;void 0!==r&&r.length>0?$.each(r,function(a,r){var n=r.offers;n.length>0?$.each(n,function(a,n){return setTimeout(function(){jQuery(d)[0].reset();var a=app_base_url+"/offer/"+e.thankyouID+"/"+n.product_id+t;window.location.href=a},600),setCookie("odpi",r.page_id,1),setCookie("odp",n.product_id,1),setCookie("odt",n.discount_type,1),setCookie("odv",n.discount_value,1),localStorage.setItem("odt",Encrypt(n.discount_type)),localStorage.setItem("odv",Encrypt(n.discount_value.toString())),localStorage.setItem("odui",Encrypt(n.up_sell_id.toString())),localStorage.setItem("odpi",Encrypt(r.page_id.toString())),!1}):setTimeout(function(){jQuery(d)[0].reset();var a=app_base_url+"/thankyou/"+e.thankyouID+t;window.location.href=a},600)}):setTimeout(function(){jQuery(d)[0].reset();var a=app_base_url+"/thankyou/"+e.thankyouID+t;window.location.href=a},600)},error:function(a){setTimeout(function(){jQuery(d)[0].reset();var a=app_base_url+"/thankyou/"+e.thankyouID+t;window.location.href=a},600)}})):setTimeout(function(){jQuery(d)[0].reset();var a=app_base_url+"/thankyou/"+e.thankyouID+t;window.location.href=a},600)}else jQuery(d)[0].reset(),jQuery(document).find(".check-out-form").slideUp(),jQuery(document).find(".thank-you-div").slideDown()}else jQuery(".white-overlay1").hide(),doSubmit=!1,mercadoPagoReloadScripts(),jQuery("#complete-payment").show(),jQuery("#loader-button").hide(),jQuery(d).append("<p class='errorMessage'>"+e.message+"</p>"),"true"==e.phone_invalid?($("html,body").animate({scrollTop:$("#phone-number").offset().top},200,function(){}),jQuery("#phone-number").parent().addClass("error_input"),alert("Ops! Você digitou alguma coisa errada. Verifique suas informações novamente (CPF, E-mail, Telefone)")):"true"==e.email_invalid?($("html,body").animate({scrollTop:$("#email").offset().top},200,function(){}),jQuery("#email").parent().addClass("error_input"),alert("Ops! Você digitou alguma coisa errada. Verifique suas informações novamente (CPF, E-mail, Telefone)")):"true"==e.agree_terms_invalid&&($("html,body").animate({scrollTop:$("input[name='agree_state']").offset().top},200,function(){}),alert(e.message)),""!=e.decline_message&&null!=e.decline_message&&alert(e.decline_message+"\n\n"+e.message)},error:function(e){jQuery(".white-overlay1").hide()}})}else jQuery(".white-overlay1").hide(),jQuery("#email").focus()}jQuery("#installments").on("selectric-change",function(){var e=jQuery("#installments").val();void 0!==e&&null!=e&&(checkout_installments=e),1==e||""==e?showFullPriceLabel():changePriceLabel(jQuery("#installments option:selected").text())}),jQuery("#collapseOne").on("show.bs.collapse",function(){showActualPriceLabel()}),jQuery("#collapseTwo").on("show.bs.collapse",function(){showFullPriceLabel()}),"undefined"!=typeof ebanx_public_key&&""!=ebanx_public_key&&null!=ebanx_public_key&&(EBANX.config.setMode(ebanx_mode),EBANX.config.setPublishableKey(ebanx_public_key),EBANX.config.setCountry("br"));var createTokenCallback=function(e){if(e.data.hasOwnProperty("status"))process_ebanx_payment(200,e,"CC");else{jQuery(".white-overlay1").hide(),jQuery("#complete-payment").show(),jQuery("#loader-button").hide();var t=e.error.err.status_message||e.error.err.message;alert(t)}};function normalizeYear(e){if(e<100){var t=(new Date).getFullYear();(e+=100*Math.floor(t/100))>t+20?e-=100:e<=t-100+20&&(e+=100)}return e}function createEbanxToken(){jQuery(".white-overlay1").show();var e=$("#cardNumber").val();e=e.replace(/\s/g,"");var t=$("#cardExpiryDate").val(),a=normalizeYear(1*t.match(/^\s*(0?[1-9]|1[0-2])\/(\d\d|\d{4})\s*$/)[2]),r=t.split("/");r=r[0],EBANX.card.createToken({card_number:e,card_name:$("#cardholderName").val(),card_due_date:r+"/"+a,card_cvv:$("#securityCode").val()},createTokenCallback)}function process_gateway_payment(e,t,a){jQuery(".white-overlay1").show();var r=jQuery("#checkoutForm").find(".error_input").text();if(jQuery("#phone-number").parent().removeClass("error_input"),jQuery("#email").parent().removeClass("error_input"),r.length>0){r.replace(/ /g,"");return alert("Ops! Você digitou alguma coisa errada. Verifique suas informações novamente (CPF, E-mail, Telefone)"),void $("html,body").animate({scrollTop:$(".check-inputs-error").offset().top},200,function(){})}if(jQuery("input[name=shippingMethods]:checked").length<=0)return alert("Selecione o método de entrega."),jQuery("#complete-payment").show(),jQuery("#loader-button").hide(),jQuery(".white-overlay1").hide(),!1;if(200!=e&&201!=e)return alert("verificar dados preenchidos"),captchaHandling(error=!0),jQuery("#complete-payment").show(),jQuery("#loader-button").hide(),jQuery(".white-overlay1").hide(),!1;if(jQuery("#cardExpiryDate").length){var n=jQuery("#cardExpiryDate").val();if(void 0!==n&&""!=n&&null!=n){var o=n.split("/");void 0!==o&&""!=o&&null!=o&&2==o.length&&(jQuery("#cardExpirationMonth").length&&(jQuery("#cardExpirationMonth").attr("value",o[0]),jQuery("#cardExpirationMonth").val(o[0])),jQuery("#cardExpirationYear").length&&(jQuery("#cardExpirationYear").attr("value","20"+o[1]),jQuery("#cardExpirationYear").val("20"+o[1])))}}var i=document.querySelector("#checkoutForm"),s=document.createElement("input"),l=localStorage.getItem("abandoned_token"),u=localStorage.getItem("cart_token"),c=document.createElement("input");"CC"==a?(c.setAttribute("name","payment_token"),c.setAttribute("type","hidden"),c.setAttribute("value","cc payment")):(c.setAttribute("name","payment_token"),c.setAttribute("type","hidden"),c.setAttribute("value","eTicket"));var d=document.createElement("input");d.setAttribute("name","payment_type"),d.setAttribute("type","hidden"),d.setAttribute("value","ebanx"),i.appendChild(d),s.setAttribute("name","cart_token"),s.setAttribute("type","hidden"),s.setAttribute("value",u),i.appendChild(c),i.appendChild(s),doSubmit=!0;var p=new FormData(i),m=jQuery("#email").val(),y=i;if(void 0!==m&&null!=m&&""!=m){var h=jQuery("#checkoutForm").attr("data-cart-currency-symbol");jQuery('input[type="submit"]').prop("disabled",!0),jQuery(y).find('input[type="submit"]').addClass("formLoading"),jQuery(document).find(".successMessage").remove(),jQuery(document).find(".errorMessage").remove(),p.append("abandoned_token",l),p.append("discountCode",jQuery("[name=discountCode]").val()),jQuery.ajax({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},type:"POST",dataType:"json",url:app_base_url+"/gatewaypay",data:p,cache:!1,contentType:!1,processData:!1,success:function(e){if(jQuery('input[type="submit"]').prop("disabled",!1),jQuery(y).find('input[type="submit"]').removeClass("formLoading"),jQuery(".payment-status").text(e.payment_status),"pending"!=e.payment_actual_status&&"in_process"!=e.payment_actual_status||jQuery("<h4 class='successMessage_payment'>"+e.message+"</h4>").insertBefore(".thank-you-div > .content-box"),1==e.success){localStorage.removeItem("freeShipping"),jQuery(y).find('input[type="text"]').addClass("empty"),jQuery(y).find('input[type="tel"]').addClass("empty"),jQuery(y).find('input[type="email"]').addClass("empty"),jQuery.ajax({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},type:"POST",url:app_base_url+"/cart/clear",success:function(){},dataType:"json"}),void 0!==e.email&&""!=e.email&&null!=e.email&&(jQuery(".successEmail").text(""),jQuery(".successEmail").text(e.email)),void 0!==e.totalPrice&&""!=e.totalPrice&&null!=e.totalPrice&&(jQuery(".successTotalPrice").text(""),jQuery(".successTotalPrice").text(" - "+h+e.totalPrice)),void 0!==e.address&&""!=e.address&&null!=e.address&&(jQuery(".successAddress").html(""),jQuery(".successAddress").html("<address class='address'>"+e.address+"</address>")),void 0!==e.shippingMethods&&""!=e.shippingMethods&&null!=e.shippingMethods&&(jQuery(".successShippingMethods").text(""),jQuery(".successShippingMethods").html(e.shippingMethods)),void 0!==e.orderId&&""!=e.orderId&&null!=e.orderId&&(jQuery(".successOrderId").text(""),jQuery(".successOrderId").text(e.orderId)),jQuery(document).find(".form-control.prdct_qty").hide(),jQuery(document).find(".incremental-btn-wrap").attr("style","display: none !important"),jQuery("#carttimerfunction").hide();var t=getUrlParameter();if(""!=e.thankyouID){var r=e.cart_token;e.shop;void 0!==r&&null!=r?(req_data={},req_data.cart_token=r,$.ajax({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},type:"POST",url:"/cart/get",data:JSON.stringify(req_data),contentType:"application/json; charset=utf-8",traditional:!0,success:function(r){var n=window.relatedUpSells;void 0!==n&&n.length>0&&"CC"==a?$.each(n,function(a,r){var n=r.offers;n.length>0?$.each(n,function(a,n){return setTimeout(function(){jQuery(y)[0].reset();var a=app_base_url+"/offer/"+e.thankyouID+"/"+n.product_id+t;window.location.href=a},600),setCookie("odpi",r.page_id,1),setCookie("odp",n.product_id,1),setCookie("odt",n.discount_type,1),setCookie("odv",n.discount_value,1),localStorage.setItem("odt",Encrypt(n.discount_type)),localStorage.setItem("odv",Encrypt(n.discount_value.toString())),localStorage.setItem("odui",Encrypt(n.up_sell_id.toString())),localStorage.setItem("odpi",Encrypt(r.page_id.toString())),!1}):setTimeout(function(){jQuery(y)[0].reset();var a=app_base_url+"/thankyou/"+e.thankyouID+t;window.location.href=a},600)}):setTimeout(function(){jQuery(y)[0].reset();var a=app_base_url+"/thankyou/"+e.thankyouID+t;window.location.href=a},600)},error:function(a){setTimeout(function(){jQuery(y)[0].reset();var a=app_base_url+"/thankyou/"+e.thankyouID+t;window.location.href=a},600)}})):setTimeout(function(){jQuery(y)[0].reset();var a=app_base_url+"/thankyou/"+e.thankyouID+t;window.location.href=a},600)}else jQuery(y)[0].reset(),jQuery(".white-overlay1").hide()}else jQuery(".white-overlay1").hide(),jQuery("#complete-payment").show(),jQuery("#loader-button").hide(),jQuery(y).append("<p class='errorMessage'>"+e.message+"</p>"),"true"==e.phone_invalid?($("html,body").animate({scrollTop:$("#phone-number").offset().top},200,function(){}),jQuery("#phone-number").parent().addClass("error_input"),alert("Ops! Você digitou alguma coisa errada. Verifique suas informações novamente (CPF, E-mail, Telefone)")):"true"==e.email_invalid?($("html,body").animate({scrollTop:$("#email").offset().top},200,function(){}),jQuery("#email").parent().addClass("error_input"),alert("Ops! Você digitou alguma coisa errada. Verifique suas informações novamente (CPF, E-mail, Telefone)")):"true"==e.agree_terms_invalid&&($("html,body").animate({scrollTop:$("input[name='agree_state']").offset().top},200,function(){}),alert(e.message)),""!=e.decline_message&&null!=e.decline_message&&alert(e.decline_message+"\n\n"+e.message)},error:function(e){jQuery(".white-overlay1").hide()}})}else jQuery(".white-overlay1").hide(),jQuery("#email").focus()}function process_ebanx_payment(e,t,a){jQuery(".white-overlay1").show();var r=jQuery("#checkoutForm").find(".error_input").text();if(jQuery("#phone-number").parent().removeClass("error_input"),jQuery("#email").parent().removeClass("error_input"),r.length>0){r.replace(/ /g,"");return alert("Ops! Você digitou alguma coisa errada. Verifique suas informações novamente (CPF, E-mail, Telefone)"),void $("html,body").animate({scrollTop:$(".check-inputs-error").offset().top},200,function(){})}if(jQuery("input[name=shippingMethods]:checked").length<=0)return alert("Selecione o método de entrega."),jQuery("#complete-payment").show(),jQuery("#loader-button").hide(),jQuery(".white-overlay1").hide(),!1;if(200!=e&&201!=e)return alert("verificar dados preenchidos"),captchaHandling(error=!0),jQuery("#complete-payment").show(),jQuery("#loader-button").hide(),jQuery(".white-overlay1").hide(),!1;var n=document.querySelector("#checkoutForm"),o=document.createElement("input"),i=localStorage.getItem("abandoned_token"),s=localStorage.getItem("cart_token"),l=document.createElement("input");if("CC"==a){l.setAttribute("name","payment_token"),l.setAttribute("type","hidden"),l.setAttribute("value",t.data.token);var u=document.createElement("input");u.setAttribute("name","payment_type_code"),u.setAttribute("type","hidden"),u.setAttribute("value",t.data.payment_type_code),n.appendChild(u);var c=document.createElement("input");c.setAttribute("name","deviceId"),c.setAttribute("type","hidden"),c.setAttribute("value",t.data.deviceId),n.appendChild(c)}else l.setAttribute("name","payment_token"),l.setAttribute("type","hidden"),l.setAttribute("value","eTicket");var d=document.createElement("input");d.setAttribute("name","payment_type"),d.setAttribute("type","hidden"),d.setAttribute("value","ebanx"),n.appendChild(d),o.setAttribute("name","cart_token"),o.setAttribute("type","hidden"),o.setAttribute("value",s),n.appendChild(l),n.appendChild(o),doSubmit=!0;var p=new FormData(n),m=jQuery("#email").val(),y=n;if(void 0!==m&&null!=m&&""!=m){var h=jQuery("#checkoutForm").attr("data-cart-currency-symbol");jQuery('input[type="submit"]').prop("disabled",!0),jQuery(y).find('input[type="submit"]').addClass("formLoading"),jQuery(document).find(".successMessage").remove(),jQuery(document).find(".errorMessage").remove(),p.append("abandoned_token",i),p.append("discountCode",jQuery("[name=discountCode]").val()),jQuery.ajax({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},type:"POST",dataType:"json",url:app_base_url+"/payment",data:p,cache:!1,contentType:!1,processData:!1,success:function(e){if(jQuery('input[type="submit"]').prop("disabled",!1),jQuery(y).find('input[type="submit"]').removeClass("formLoading"),jQuery(".payment-status").text(e.payment_status),"pending"!=e.payment_actual_status&&"in_process"!=e.payment_actual_status||jQuery("<h4 class='successMessage_payment'>"+e.message+"</h4>").insertBefore(".thank-you-div > .content-box"),1==e.success){localStorage.removeItem("freeShipping"),jQuery(y).find('input[type="text"]').addClass("empty"),jQuery(y).find('input[type="tel"]').addClass("empty"),jQuery(y).find('input[type="email"]').addClass("empty"),jQuery.ajax({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},type:"POST",url:app_base_url+"/cart/clear",success:function(){},dataType:"json"}),void 0!==e.email&&""!=e.email&&null!=e.email&&(jQuery(".successEmail").text(""),jQuery(".successEmail").text(e.email)),void 0!==e.totalPrice&&""!=e.totalPrice&&null!=e.totalPrice&&(jQuery(".successTotalPrice").text(""),jQuery(".successTotalPrice").text(" - "+h+e.totalPrice)),void 0!==e.address&&""!=e.address&&null!=e.address&&(jQuery(".successAddress").html(""),jQuery(".successAddress").html("<address class='address'>"+e.address+"</address>")),void 0!==e.shippingMethods&&""!=e.shippingMethods&&null!=e.shippingMethods&&(jQuery(".successShippingMethods").text(""),jQuery(".successShippingMethods").html(e.shippingMethods)),void 0!==e.orderId&&""!=e.orderId&&null!=e.orderId&&(jQuery(".successOrderId").text(""),jQuery(".successOrderId").text(e.orderId)),jQuery(document).find(".form-control.prdct_qty").hide(),jQuery(document).find(".incremental-btn-wrap").attr("style","display: none !important"),jQuery("#carttimerfunction").hide();var t=getUrlParameter();if(""!=e.thankyouID){var r=e.cart_token;e.shop;void 0!==r&&null!=r?(req_data={},req_data.cart_token=r,$.ajax({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},type:"POST",url:"/cart/get",data:JSON.stringify(req_data),contentType:"application/json; charset=utf-8",traditional:!0,success:function(r){var n=window.relatedUpSells;void 0!==n&&n.length>0&&"CC"==a?$.each(n,function(a,r){var n=r.offers;n.length>0?$.each(n,function(a,n){return setTimeout(function(){jQuery(y)[0].reset();var a=app_base_url+"/offer/"+e.thankyouID+"/"+n.product_id+t;window.location.href=a},600),setCookie("odpi",r.page_id,1),setCookie("odp",n.product_id,1),setCookie("odt",n.discount_type,1),setCookie("odv",n.discount_value,1),localStorage.setItem("odt",Encrypt(n.discount_type)),localStorage.setItem("odv",Encrypt(n.discount_value.toString())),localStorage.setItem("odui",Encrypt(n.up_sell_id.toString())),localStorage.setItem("odpi",Encrypt(r.page_id.toString())),!1}):setTimeout(function(){jQuery(y)[0].reset();var a=app_base_url+"/thankyou/"+e.thankyouID+t;window.location.href=a},600)}):setTimeout(function(){jQuery(y)[0].reset();var a=app_base_url+"/thankyou/"+e.thankyouID+t;window.location.href=a},600)},error:function(a){setTimeout(function(){jQuery(y)[0].reset();var a=app_base_url+"/thankyou/"+e.thankyouID+t;window.location.href=a},600)}})):setTimeout(function(){jQuery(y)[0].reset();var a=app_base_url+"/thankyou/"+e.thankyouID+t;window.location.href=a},600)}else jQuery(y)[0].reset(),jQuery(".white-overlay1").hide()}else jQuery(".white-overlay1").hide(),jQuery("#complete-payment").show(),jQuery("#loader-button").hide(),jQuery(y).append("<p class='errorMessage'>"+e.message+"</p>"),"true"==e.phone_invalid?($("html,body").animate({scrollTop:$("#phone-number").offset().top},200,function(){}),jQuery("#phone-number").parent().addClass("error_input"),alert("Ops! Você digitou alguma coisa errada. Verifique suas informações novamente (CPF, E-mail, Telefone)")):"true"==e.email_invalid?($("html,body").animate({scrollTop:$("#email").offset().top},200,function(){}),jQuery("#email").parent().addClass("error_input"),alert("Ops! Você digitou alguma coisa errada. Verifique suas informações novamente (CPF, E-mail, Telefone)")):"true"==e.agree_terms_invalid&&($("html,body").animate({scrollTop:$("input[name='agree_state']").offset().top},200,function(){}),alert(e.message)),""!=e.decline_message&&null!=e.decline_message&&alert(e.decline_message+"\n\n"+e.message)},error:function(e){jQuery(".white-overlay1").hide()}})}else jQuery(".white-overlay1").hide(),jQuery("#email").focus()}function setInstallmentInfo(e=null,t=null){var a=document.querySelector("#installments"),r=$(".checkoutTotalPrice").val();"undefined"==typeof mp_installments_without_fees&&(mp_installments_without_fees=0);var n="";jQuery("#installments").length&&jQuery("#installments").selectric("destroy");n="";if(t&&void 0!==t[0])var o=t[0].payer_costs.length;else o=calculateMaxInstallment();for(var i=0,s=1;s<=o;s++){var l="",u=0;switch(s){case 1:u=payments_fees_1x;break;case 2:u=payments_fees_2x;break;case 3:u=payments_fees_3x;break;case 4:u=payments_fees_4x;break;case 5:u=payments_fees_5x;break;case 6:u=payments_fees_6x;break;case 7:u=payments_fees_7x;break;case 8:u=payments_fees_8x;break;case 9:u=payments_fees_9x;break;case 10:u=payments_fees_10x;break;case 11:u=payments_fees_11x;break;case 12:u=payments_fees_12x}s==checkout_installments?(l="selected",i=1):s==o&&0==i&&(l="selected"),n+='<option value="'+s+'" '+l+">"+s+" x de ","mp"==cc_active?s>mp_installments_without_fees?total_aux=parseFloat(r)+parseFloat(u/100*r):total_aux=parseFloat(r):total_aux=parseFloat(r)+parseFloat(u/100*r),n+=parseReal(total_aux/s),"mp"==cc_active?s<=mp_installments_without_fees?n+=" sem juros":n+="*":n+=1==s?" sem juros":"*",n+="</option>",maxInstallmentsLabel='<small class="text-muted" style="font-size: 50%">ou em '+s+" x de "+parseReal(total_aux/s)+"* no cartão</small>"}jQuery("#installments").length?(a.innerHTML!=n&&(a.innerHTML=n),a.removeAttribute("disabled"),jQuery("#installments").selectric({maxHeight:200})):(jQuery(".checkoutTotal2, .prdct-price-installment").hide(),jQuery(".checkoutTotal, .prdct-price").show()),jQuery("#installments").trigger("selectric-change")}function mercadoPagoReloadScripts(){var e=$('script[src="'+mp_js_url+'"]').prop("src"),t=$('script[src$="mercado-pago.js"]').prop("src");mercadoPagoRemoveElements(e,t),mercadoPagoAddScripts(e,t)}function mercadoPagoRemoveElements(e,t){delete Mercadopago,$("#thm_mp_cntnr, #meli_device").remove(),$('script[src="'+e+'"]').remove(),$('script[src="'+t+'"]').remove()}function mercadoPagoAddScripts(e,t){$("body").append('<script src="'+e+'"><\/script>'),mercadoPagoAddLocalJs(t)}function mercadoPagoAddLocalJs(e){try{Mercadopago.setPublishableKey(mp_public_key),Mercadopago.getIdentificationTypes(),void 0!==e&&$("body").append('<script src="'+e+'"><\/script>')}catch(t){setTimeout(function(){mercadoPagoAddLocalJs(e)},500)}}function getUrlParameter(){var e,t,a=window.location.search.substring(1).split("&"),r="";for(t=0;t<a.length;t++)""!=a[t]&&"add"!==(e=a[t].split("="))[0]&&void 0!==e[0]&&(r+=e[0]+"="+e[1]+"&");return""!=(r=r.slice(0,-1))&&(r="?"+r),r}function updateCheckoutCart(e,t,a){return data={},data.cartItem={},data.cartItem.variant_id=e,data.cartItem.quantity=t,sessionStorage.setItem("updating",!0),data.cartItem.item_id=a,$.ajax({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},type:"post",url:"/cart/update",data:JSON.stringify(data),contentType:"application/json; charset=utf-8",traditional:!0,success:function(e){sessionStorage.getItem("is_enhanced")&&handleGATag(e.line_items),jQuery(".product-list-loader, .product-loading").hide(),$(".cart-total-value").html(e.cart_total),create_product_listing()},error:function(){jQuery(".product-list-loader, .product-loading").hide()}}),!1}function handleGATag(e){var t=[];$.each(e,function(e,a){t.push({id:a.id,name:a.product_title,quantity:a.quantity,price:a.price*a.quantity,list_name:"Product in Checkout"})}),gtag("event","checkout_progress",{items:t})}function trackFbPixel(e){var t=e.line_items,a=[],r=[],n=0,o="",i="",s=parseFloat(e.cart_total).toFixed(2);void 0!==ccDiscountCodeApplied&&1==ccDiscountCodeApplied&&(s=parseFloat(s-s*cc_discount_per/100).toFixed(2));for(var l=0;l<t.length;l++){var u=t[l];n+=u.quantity,a.push(u.product_title),u.shopify_id?r.push(u.shopify_id):r.push(u.variant_id),o={content_type:"product_group",content_ids:r,value:parseFloat(e.cart_total).toFixed(2),num_items:n,content_name:a,currency:"BRL"},i={content_type:"product_group",content_ids:r,value:parseFloat(e.cart_total).toFixed(2),content_name:a,currency:"BRL"}}"undefined"!=typeof fbq&&(fbq("track","PageView"),fbq("track","InitiateCheckout",o),$('input[name="cardNumber"]').one("keypress",function(){fbq("track","AddPaymentInfo",i)}))}function create_product_listing(){var e=document.createElement("script");if(e.src="/js/snippets/custom-options.min.js",document.head.appendChild(e),window.location.href.indexOf("checkout")>=1){var t=getUrlParameter();if(window.history.pushState("","","/checkout"+t),jQuery(window).width()>600)var a=jQuery(".checkout-cont").find("input[name=couponCode]").val();else a=jQuery(".mobile-price-smry").find("input[name=couponCode]").val();data={},data.page="checkout",data.couponCode=a,data.country=jQuery("input[name=country]").val(),data.customeremail=jQuery("input[name=email]").val(),data.cart_token="","undefined"!=typeof theme_preview&&"true"==theme_preview&&(data.cart_token=checkout_cart_token),$.ajax({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},type:"POST",url:"/cart/get",data:JSON.stringify(data),contentType:"application/json; charset=utf-8",traditional:!0,success:function(e){jQuery(".product-list-loader, .product-loading, .total-price-loader").hide();var t=e.line_items;"yes"!=localStorage.getItem("loadInitCheckout")&&(trackFbPixel(e),localStorage.setItem("loadInitCheckout","yes")),cart_token=e.token;var r=e.discount_code;void 0!==r&&""!=r&&(jQuery(".couponCodeW").removeClass("empty"),jQuery(".couponCodeW").val(r),localStorage.setItem("discountCategory",e.discountCategory));var n="",o=0;let i=!1,s=[];jQuery.each(t,function(e,t){null!=t.order_bump_id&&(i=!0,s.push(t.id))}),jQuery.each(t,function(t,a){final_line_price=parseFloat(a.price),o+=parseFloat(final_line_price),n+='<div class="row">\n                                <div class="col-2 prdct-thumb">\n                                    <img src="'+a.src+'">\n                                </div>\n                                <div class="col-7 prdct-name">\n                                    <h5 class="bolderFont">'+a.product_title,null!=a.variant_title&&""!=a.variant_title&&"default title"!=a.variant_title.toLowerCase()&&"default"!=a.variant_title.toLowerCase()&&(n+=" ("+a.variant_title+")"),n+="</h5>",a.custom_options&&(n+=getCustomOptionElement(a.custom_options)),n+='<span class="prdct-price bolderFont" style="display: none">\n                                    '+e.currency+" "+addCommas(parseFloat(final_line_price).toFixed(2))+'                                </span>\n                                <span class="prdct-price-installment bolderFont" style="display: none">\n                                    '+checkout_installments+" X DE "+e.currency+" "+addCommas(parseFloat((final_line_price+final_line_price*installment_fee_rate/100)/checkout_installments).toFixed(2))+'                                </span>\n                                </div>\n                                <div class="col-3 prdct-qty">\n                                    <input type="hidden" name="" class="prdct_org_price" value="'+a.price+'">\n                                    <input type="hidden" name="" class="prdct_old_qty" value="'+a.quantity+'">\n                                    <input type="hidden" name="" class="prdct_id" value="'+a.variant_id+'">\n                                    <div class="d-flex incremental-btn-wrap">\n                                        <button type="button" class="add incremental-btn btn-number" data-type="plus" data-field="quantity" data-variant="'+a.variant_id+'">+</button>\n                                        <input type="number" class="form-control prdct_qty" name="quantity" placeholder="Quantity" autocomplete="off" value="'+a.quantity+'" min="1">',a.quantity>1?n+='<button type="button" class="sub subtraction-btn btn-number" data-type="minus" data-field="quantity" data-variant="'+a.variant_id+'">-</button>':i?s.includes(a.id)&&(n+='<div class="removeItems order-bump-removed"><a href="javascript:;" data-id="'+a.variant_id+'" data-item_id="'+a.id+'" data-order_bump_id="'+a.order_bump_id+'"><i class="fa fa-trash"></i></a></div>'):n+='<div class="removeItems"><a href="javascript:;" data-id="'+a.variant_id+'" data-item_id="'+a.id+'"><i class="fa fa-trash"></i></a></div>',n+="</div>\n                                </div>\n                            </div>"});o=e.cart_total;jQuery(".checkoutSubTotalPrice").val(parseFloat(o).toFixed(2)),jQuery(".checkoutTotalPrice").val(parseFloat(o).toFixed(2));var l=jQuery("[name=totalShippingPrice]").val();if(e.freeship&&1==e.freeship?(e.discount=l,localStorage.setItem("freeShipping",!0)):(o+=parseFloat(l),localStorage.removeItem("freeShipping")),jQuery("[name=checkoutTotalPrice]").val(parseFloat(o).toFixed(2)),jQuery("[name=totalDiscount]").val(parseFloat(e.discount).toFixed(2)),jQuery(".mobile-price-smry .prdcts_list").html(n),jQuery(".checkout-cont .prdcts_list").html(n),jQuery(".checkoutSubTotal").text(e.currency+" "+addCommas(parseFloat(e.sub_total).toFixed(2))),jQuery(".DiscountPriceText").text(e.currency+" "+addCommas(parseFloat(e.discount).toFixed(2))),jQuery(".checkoutTotal span").text(e.currency+" "+addCommas(parseFloat(o).toFixed(2))),""!=a&&"undefined"!=a?e.discount_error&&""!==e.discount_error?(jQuery(".coupon_success").slideUp("slow"),jQuery(".coupon_error").html(e.discount_error),jQuery(".coupon_error").slideDown("slow")):e.discount_success&&""!==e.discount_success?(jQuery(".coupon_error").slideUp("slow"),jQuery(".coupon_success").html(e.discount_success),jQuery(".coupon_success").slideDown("slow")):(jQuery(".checkout-cont").find("input[name=couponCode]").addClass("empty"),jQuery(".checkout-cont").find("input[name=couponCode]").val(""),jQuery(".mobile-price-smry").find("input[name=couponCode]").addClass("empty"),jQuery(".mobile-price-smry").find("input[name=couponCode]").val(""),jQuery(".coupon_error").slideUp("slow"),jQuery(".coupon_success").slideUp("slow")):void 0!==e.discount_success&&""!=e.discount_success?(jQuery(".checkout-cont").find("input[name=couponCode]").val(e.discount_code),jQuery(".mobile-price-smry").find("input[name=couponCode]").val(e.discount_code),jQuery(".coupon_error").slideUp("slow"),jQuery(".coupon_success").html(e.discount_success),jQuery(".coupon_success").slideDown("slow")):void 0!==e.discount_error&&""!=e.discount_error?(jQuery(".coupon_success").slideUp("slow"),jQuery(".coupon_error").html(e.discount_error),jQuery(".coupon_error").slideDown("slow")):(jQuery(".coupon_error").slideUp("slow"),jQuery(".coupon_success").slideUp("slow")),void 0!==ccDiscountCodeApplied&&1==ccDiscountCodeApplied&&applyCCDiscountCode(1),jQuery("#cardNumber").trigger("focusout"),setInstallmentInfo(),jQuery(".prdcts_list > .row").length<=2&&jQuery(".removeItems").remove(),t.length<=0){var u="https://"+window.location.hostname;window.location.href=u}},error:function(){var e="https://"+window.location.hostname;window.location.href=e,jQuery(".product-list-loader, .product-loading").hide()}})}}function applyCCDiscountCode(e=0){if("undefined"!=typeof cc_discount_per&&cc_discount_per){new FormData;jQuery(document).find(".successMessage").remove(),jQuery(document).find(".errorMessage").remove();var t=jQuery("#checkoutForm").attr("data-cart-currency-symbol"),a=jQuery(".checkoutSubTotalPrice").val(),r=jQuery(".totalShippingPrice").val(),n=0;"true"==localStorage.getItem("freeShipping")&&(n=jQuery(".totalDiscount").val());var o=parseFloat(a)+parseFloat(r),i=parseFloat(0);e?(i=parseFloat(a*cc_discount_per/100).toFixed(2),$(".cc_discount_price_li").slideDown(),$(".CCDiscountPriceText").text(t+" "+addCommas(i))):$(".cc_discount_price_li").slideUp(),jQuery('input[name="addCCDiscountPrice"]').remove(),jQuery("#checkoutForm").append("<input type='hidden' name='addCCDiscountPrice' value='"+i+"' />");var s=parseFloat(o-i-n).toFixed(2);jQuery(".checkoutTotalPrice").val(""),jQuery(".checkoutTotalPrice").val(s),jQuery(".checkoutTotalPrice").attr("value",s),$(".checkoutTotal span").text(""),$(".checkoutTotal span").text(t+addCommas(s)),jQuery("#cardNumber").trigger("focusout"),setInstallmentInfo()}}function addCommas(e){x=(e+="").split("."),x1=x[0],null!=typeof x[1]&&""!=x[1]&&null!=x[1]?1==x[1].length?x2=x.length>=1?","+x[1]+"0":"":x2=x.length>=1?","+x[1]:"":x2=x.length>=1?",00":"";for(var t=/(\d+)(\d{3})/;t.test(x1);)x1=x1.replace(t,"$1.$2");return x1+x2}function getUrlParameter(){var e,t,a=window.location.search.substring(1).split("&"),r="";for(t=0;t<a.length;t++)""!=a[t]&&"add"!==(e=a[t].split("="))[0]&&void 0!==e[0]&&(r+=e[0]+"="+e[1]+"&");return""!=(r=r.slice(0,-1))&&(r="?"+r),r}function applyCoupon(){if(jQuery(window).width()>600)var e=jQuery(".checkout-cont").find("input[name=couponCode]").val();else e=jQuery(".mobile-price-smry").find("input[name=couponCode]").val();if(""!=e&&"undefined"!=e)return data={},data.couponCode=e,data.country=jQuery("input[name=country]").val(),data.customeremail=jQuery("input[name=email]").val(),data.discountCategory=localStorage.getItem("discountCategory"),$.ajax({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},type:"post",url:"/discount/validate",data:JSON.stringify(data),contentType:"application/json; charset=utf-8",traditional:!0,success:function(t){""!=e&&"undefined"!=e&&(t.error&&""!==t.error?(jQuery(".coupon_success").slideUp("slow"),jQuery(".coupon_error").html(t.error),jQuery(".coupon_error").slideDown("slow")):t.success&&""!==t.success&&(jQuery(".coupon_error").slideUp("slow"),jQuery(".coupon_success").html(t.success),jQuery(".coupon_success").slideDown("slow"),jQuery("[name=discountCode]").val(e))),create_product_listing()},error:function(){}}),!1}function Encrypt(e){e||(e=""),e="undefined"==e||"null"==e?"":e;try{var t=0;for(ostr="";t<e.length;)ostr+=String.fromCharCode(146^e.charCodeAt(t)),t+=1;return ostr}catch(e){return""}}function Decrypt(e){e||(e=""),e="undefined"==e||"null"==e?"":e;try{var t=0;for(ostr="";t<e.length;)ostr+=String.fromCharCode(146^e.charCodeAt(t)),t+=1;return ostr}catch(e){return""}}function getCookie(e){for(var t=e+"=",a=decodeURIComponent(document.cookie).split(";"),r=0;r<a.length;r++){for(var n=a[r];" "==n.charAt(0);)n=n.substring(1);if(0==n.indexOf(t))return n.substring(t.length,n.length)}return""}function setCookie(e,t,a){var r=new Date;r.setTime(r.getTime()+24*a*60*60*1e3);var n="expires="+r.toUTCString();document.cookie=e+"="+t+";"+n+";path=/"}localStorage.setItem("loadInitCheckout",""),window.loadCheckoutSection=function(){window.data={},create_product_listing()},jQuery(document).ready(function(){jQuery(".couponFormSubmitBtn").on("click",function(){applyCoupon()}),jQuery(".change-payment-section").on("click",function(){jQuery(this).hide(),jQuery(".boleto-pay-section").show()})});